

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="数据库管理系统：DBMS（Database Management System）是管理数据库的软件，可以帮助我们实现对文件夹中文件进行操作。">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  <meta name="description" content="数据库管理系统：DBMS（Database Management System）是管理数据库的软件，可以帮助我们实现对文件夹中文件进行操作。">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL数据库">
<meta property="og:url" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="数据库管理系统：DBMS（Database Management System）是管理数据库的软件，可以帮助我们实现对文件夹中文件进行操作。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL1.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL2.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL3.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL4.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL5.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL6.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL7.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL8.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL9.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL11.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL12.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL13.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL14.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL15.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL16.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL17.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL19.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL18.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL20.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL21.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL22.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL23.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL24.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL25.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL26.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL27.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL28.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL29.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL31.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL30.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL32.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL33.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL34.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL35.jpg">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL36.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL37.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL38.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL39.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL40.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL42.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL41.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL43.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL44.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL45.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL46.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL47-2127054.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL48.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL49.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL50.png">
<meta property="og:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL51.png">
<meta property="article:published_time" content="2021-09-12T11:32:00.000Z">
<meta property="article:modified_time" content="2021-10-02T11:33:11.200Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="数据库">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://www.xiaojiucai.cn/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL1.png">
  
  <title>MySQL数据库 - Hexo</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"www.xiaojiucai.cn","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":120,"cursorChar":"|","loop":true},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>小韭菜</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                时光轴
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于我
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="MySQL数据库">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-09-12 19:32" pubdate>
        2021年9月12日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      58k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      181 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MySQL数据库</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：5 小时前
                
              </p>
            
            <div class="markdown-body">
              <p>数据库管理系统：DBMS（Database Management System）是管理数据库的软件，可以帮助我们实现对文件夹中文件进行操作。</p>
<span id="more"></span>

<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>视频课：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Qq4y1X7TC?spm_id_from=333.999.0.0">https://www.bilibili.com/video/BV1Qq4y1X7TC?spm_id_from=333.999.0.0</a></p>
<h3 id="数据库管理系统"><a href="#数据库管理系统" class="headerlink" title="数据库管理系统"></a>数据库管理系统</h3><p>数据库管理系统：DBMS（Database Management System）是管理数据库的软件，可以帮助我们实现对文件夹中文件进行操作。常见的数据库管理系统如下：</p>
<ol>
<li>MySQL：应用广泛，主要学习</li>
<li>Oracle：国企事业单位使用居多</li>
<li>Microsoft SQL Server : 微软</li>
<li>DB2：IBM</li>
<li>SQLite：D.Richard Hipp个人开发</li>
<li>Access：微软</li>
<li>PostgreSQL :加州大学伯克利分校</li>
<li>······</li>
</ol>
<h3 id="数据库管理系统逻辑"><a href="#数据库管理系统逻辑" class="headerlink" title="数据库管理系统逻辑"></a>数据库管理系统逻辑</h3><p>数据库管理系统的逻辑，单台计算机，如图<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL1.png" srcset="/img/loading.gif" lazyload alt="MySQL1"></p>
<p>对于多台计算机的情况，如图<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL2.png" srcset="/img/loading.gif" lazyload alt="MySQL2"></p>
<h3 id="数据库管理系统的交互步骤"><a href="#数据库管理系统的交互步骤" class="headerlink" title="数据库管理系统的交互步骤"></a>数据库管理系统的交互步骤</h3><p>本教程针对单台计算机的MySQL的数据库进行讲解：<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL3.png" srcset="/img/loading.gif" lazyload alt="MySQL3"></p>
<p>基于MySQL的数据存储主要分为8步，其中，数据库管理系统端5步，客户程序端3步，如下：</p>
<p>数据库管理系统：</p>
<ol>
<li>安装MySQL软件</li>
<li>基本配置并启动服务</li>
<li>创建数据库（类似于创建文件夹）</li>
<li>创建表结构（类似于创建Excel文件）</li>
<li>创建账户并授权（让程序使用此账户访问数据库中的表）</li>
</ol>
<p>程序A：</p>
<ol start="6">
<li>安装pymysql模块（python操作MySQL）</li>
<li>基于pymysql模块连接MySQL</li>
<li>基于pymysql模块向数据库发送指令</li>
</ol>
<h2 id="MySQL的安装、配置与启动"><a href="#MySQL的安装、配置与启动" class="headerlink" title="MySQL的安装、配置与启动"></a>MySQL的安装、配置与启动</h2><h3 id="Windows版本"><a href="#Windows版本" class="headerlink" title="Windows版本"></a>Windows版本</h3><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>网址：<a target="_blank" rel="noopener" href="https://downloads.mysql.com/archives/community/">https://downloads.mysql.com/archives/community/</a></p>
<p>选择5.7.31版本，下载    Windows(x86,64-bit), ZIP Archive    Jun 2,2020    305.9M<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL4.png" srcset="/img/loading.gif" lazyload alt="MySQL4"></p>
<p>把下载的压缩包解压到C:\Program Files下，得到mysql-5.7.31-winx64文件夹，如图：<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL5.png" srcset="/img/loading.gif" lazyload alt="MySQL5"></p>
<p>此时，MySQL的5.7.31版本已经在Windows中安装成功！</p>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>在C:\Program Files\mysql-5.7.31-winx64中创建配置文件<code>my.ini</code>，文件内容：</p>
 <figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs tex">[mysqld]<br><br><span class="hljs-params">#</span>port<br>port = 3306<br><br><span class="hljs-params">#</span>set basedir to you installation path<br>basedir = C:<span class="hljs-keyword">\\</span>Program Files<span class="hljs-keyword">\\</span>mysql-5.7.31-winx64<br><br><span class="hljs-params">#</span>set datadir to the location of your data directory<br>datadir = C:<span class="hljs-keyword">\\</span>Program Files<span class="hljs-keyword">\\</span>mysql-5.7.31-winx64<span class="hljs-keyword">\\</span>data<br></code></pre></td></tr></table></figure>

<p>  注：<strong>my.ini中的路径建议用<code>/</code>或<code>\\</code>作为分隔符，不建议使用<code>\</code><strong>。</strong>根据官方文档，路径分隔符可以使用<code>/</code>,<code>\</code>和 <code>\\</code><strong>。</strong>但是<code>\</code>配合某些字符时将不再是<code>\</code>，比如\test会被理解为制表符加上est</strong></p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL6.png" srcset="/img/loading.gif" lazyload alt="MySQL6"></p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tex"><span class="hljs-params">#</span>set basedir to you installation path<br>basedir = C:<span class="hljs-keyword">\\</span>Program Files<span class="hljs-keyword">\\</span>mysql-5.7.31-winx64<br><br><span class="hljs-params">#</span>mysql的安装路径<br></code></pre></td></tr></table></figure>

<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tex"><span class="hljs-params">#</span>set datadir to the location of your data directory<br>datadir = C:<span class="hljs-keyword">\\</span>Program Files<span class="hljs-keyword">\\</span>mysql-5.7.31-winx64<span class="hljs-keyword">\\</span>data<br><br><span class="hljs-params">#</span>数据库中数据的存储路径<br></code></pre></td></tr></table></figure>

<p>其实，MySQL的配置文件<code>my.ini</code>是有优先级的。当电脑中存在其他版本的MySQL时，配置文件<code>my.ini</code>的优先级如下：<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL7.png" srcset="/img/loading.gif" lazyload alt="MySQL7"></p>
<p>命令行语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&quot;C:\Program Files\mysql-5.7.31-winx64\bin\mysqld.exe&quot; --help --verbose<br></code></pre></td></tr></table></figure>

<p>读取<code>my.ini</code>文件的路径优先级为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">C:\Windows\my.ini C:\Windows\my.cnf C:\my.ini C:\my.cnf C:\Program Files\mysql-5.7.31-winx64\my.ini C:\Program Files\mysql-5.7.31-winx64\my.cnf<br></code></pre></td></tr></table></figure>

<p>因此，将<code>my.ini</code>配置文件放在MySQL自己的目录下最稳妥。</p>
<h4 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&quot;C:\Program Files\mysql-5.7.31-winx64\bin\mysqld.exe&quot; --initialize-insecure<br></code></pre></td></tr></table></figure>

<p>在命令行输入上述初始化语句后，会自动读取配置文件并执行初始化，初始化过程中会完成以下两件事：</p>
<ol>
<li>自动创建data目录</li>
<li>创建一些必备的数据，如创建默认账户root（无密码），用于登录MySQL并通过指令操作MySQL</li>
</ol>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL8.png" srcset="/img/loading.gif" lazyload alt="MySQL8"></p>
<p>在windowns安装过程中如果有报错 （ msvcr120.dll不存在 ），请下载并安装下面的两个补丁：</p>
<ol>
<li><p>vcredist：<a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-cn/download/confirmation.aspx?id=40784">https://www.microsoft.com/zh-cn/download/confirmation.aspx?id=40784</a>  （主要）</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL9.png" srcset="/img/loading.gif" lazyload alt="MySQL9"></p>
</li>
<li><p>dirctx：<a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-CN/download/details.aspx?id=35!%5BMySQL10%5D(MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL10.png)">https://www.microsoft.com/zh-CN/download/details.aspx?id=35![MySQL10](MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL10.png)</a></p>
</li>
</ol>
<h4 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h4><p>启动MySQL常见的有两种方式：</p>
<ol>
<li><p>临时启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&quot;C:\Program Files\mysql-5.7.31-winx64\bin\mysqld.exe&quot;<br></code></pre></td></tr></table></figure>

<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL11.png" srcset="/img/loading.gif" lazyload alt="MySQL11">此时程序会挂起，内部就是可以接收客户端发来的MySQL指令，关闭窗口或者Ctrl+C就可以停止运行。这种方式每次开启关闭比较麻烦。</p>
</li>
<li><p>制作Windows服务，基于Windows服务管理</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&quot;C:\Program Files\mysql-5.7.31-winx64\bin\mysqld.exe&quot;  --install mysql57<br></code></pre></td></tr></table></figure>

<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL12.png" srcset="/img/loading.gif" lazyload alt="MySQL12"></p>
<p>创建好服务后，可以通过命令 启动和关闭 该服务，如：</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">net</span> <span class="hljs-built_in">start</span> mysql57<br><span class="hljs-built_in">net</span> stop mysql57<br></code></pre></td></tr></table></figure>

<p> 也可以在Windows的服务管理中点击 启动和关闭 该服务。如：</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL13.png" srcset="/img/loading.gif" lazyload alt="MySQL13"></p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL14.png" srcset="/img/loading.gif" lazyload alt="MySQL14"></p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL15.png" srcset="/img/loading.gif" lazyload alt="MySQL15"></p>
<p>如果以后不需要该服务时，可以执行下面语句删除：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&quot;C:\Program Files\mysql-5.7.31-winx64\bin\mysqld.exe&quot; --remove mysql57<br></code></pre></td></tr></table></figure>

<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL16.png" srcset="/img/loading.gif" lazyload alt="MySQL16"></p>
</li>
</ol>
<h4 id="连接MySQL"><a href="#连接MySQL" class="headerlink" title="连接MySQL"></a>连接MySQL</h4><p>安装启动MySQL后，可以使用连接MySQL的方法来测试是否已经正确安装并启动成功。</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL17.png" srcset="/img/loading.gif" lazyload alt="MySQL17"></p>
<p>以后在开发时，肯定是要用Python代码来连接MySQL并且进行数据操作的。</p>
<p>在安装MySQL时，其实在C:\Program Files\mysql-5.7.31-winx64\bin中也自动安装了一个工具（客户端）：mysql.exe</p>
<p>双击运行mysql.exe或者命令行运行，<strong>在启动MySQL后</strong>，以下是命令行语句：</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs taggerscript">&quot;C:<span class="hljs-symbol">\P</span>rogram Files<span class="hljs-symbol">\m</span>ysql-5.7.31-winx64<span class="hljs-symbol">\b</span>in<span class="hljs-symbol">\m</span>ysql.exe&quot; -h 127.0.0.1 -P 3306 -u root -p<br></code></pre></td></tr></table></figure>

<p>注：如果是本机连接访问，则本地地址和端口<code>-h 127.0.0.1 -P 3306</code>可以省略，写成如下语句：</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs taggerscript">&quot;C:<span class="hljs-symbol">\P</span>rogram Files<span class="hljs-symbol">\m</span>ysql-5.7.31-winx64<span class="hljs-symbol">\b</span>in<span class="hljs-symbol">\m</span>ysql.exe&quot; -u root -p<br></code></pre></td></tr></table></figure>

<p>此外，如果把bin目录加入环境变量的系统变量Path中，每次在运行命令（含有bin目录的语句）时，就不用重新输入绝对路径了。</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL19.png" srcset="/img/loading.gif" lazyload alt="MySQL19"></p>
<p>命令行连接MySQl的语句变为如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysql<span class="hljs-selector-class">.exe</span> -u root -<span class="hljs-selector-tag">p</span><br></code></pre></td></tr></table></figure>

<p>查看数据库：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">show databases<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>

<p><strong>注：<code>databases</code>和<code>;</code>不要输入错误或者遗漏</strong></p>
<p>退出：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">exit</span>;<br></code></pre></td></tr></table></figure>

<p><strong>注：<code>;</code>不要输入错误或者遗漏</strong></p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL18.png" srcset="/img/loading.gif" lazyload alt="MySQL18"></p>
<h3 id="Mac版本"><a href="#Mac版本" class="headerlink" title="Mac版本"></a>Mac版本</h3><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>网址：<a target="_blank" rel="noopener" href="https://downloads.mysql.com/archives/community/">https://downloads.mysql.com/archives/community/</a></p>
<p>选择5.7.31版本，下载    macOS(x86,64-bit), DMG Archive    Jun 2,2020    372.8M<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL20.png" srcset="/img/loading.gif" lazyload alt="MySQL20"></p>
<p>下载完成后，安装即可，过程如下图：</p>
<p>一直点击继续、同意等默认选项即可<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL21.png" srcset="/img/loading.gif" lazyload alt="MySQL21"></p>
<p>记住这个面板中的<code>root@localhost</code>的值，即<strong>数据库的账户名：root</strong>和<strong>数据库的初始密码</strong>（每个人安装的不一样）<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL22.png" srcset="/img/loading.gif" lazyload alt="MySQL22"></p>
<p>整个基于dmg文件的安装过程，其实包含了两大部分，<strong>安装与初始化</strong>：</p>
<ol>
<li><p>安装，默认安装在了 <code>/usr/local/mysql-5.7.31-macos10.14-x86_64/</code>目录</p>
</li>
<li><p>初始化，在安装目录下创建data目录用于存放数据； 初始化模块数据库以及账户相关等，例如： 账cd</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL23.png" srcset="/img/loading.gif" lazyload alt="MySQL23"></p>
</li>
</ol>
<h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><p>在MySQL安装目录下创建<code>etc/my.cnf</code>作为MySQL的配置文件，新建<code>etc</code>文件夹，然后在其中新建<code>my.cnf</code>文件</p>
<p>文件内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">[mysqld]<br><br>port = 3306<br><br>basedir = /usr/local/mysql<br><br>datadir = /usr/local/mysql/data<br></code></pre></td></tr></table></figure>

<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL24.png" srcset="/img/loading.gif" lazyload alt="MySQL24"></p>
<p>当电脑中存在多个不同版本的MySQL时，不同版本的MySQL配置文件按照优先级，会在以下目录中寻找：<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL25.png" srcset="/img/loading.gif" lazyload alt="MySQL25"></p>
<p>命令行语句如下：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex">/usr/local/mysql/bin/mysqld --verbose --help|grep -A 1 &#x27;Default options&#x27;<br></code></pre></td></tr></table></figure>

<p>读取配置文件优先级顺序如下：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/etc/my</span>.cnf <span class="hljs-regexp">/etc/my</span>sql<span class="hljs-regexp">/my.cnf /u</span>sr<span class="hljs-regexp">/local/my</span>sql<span class="hljs-regexp">/etc/my</span>.cnf ~/.my.cnf<br></code></pre></td></tr></table></figure>

<h4 id="启动-1"><a href="#启动-1" class="headerlink" title="启动"></a>启动</h4><p>在Mac系统中启动MySQL有两种方式：</p>
<ol>
<li><p>安装目录中自带 <code>mysql.server</code> 脚本（建议并推荐：<code>mysql.server</code> 脚本的内部是使用 <code>mysqld_safe</code>运行，可以守护我们的MySQL进程，如意外挂掉可自动重启），在终端使用命令行和密码进行启动和关闭操作</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span>support-files/mysql.server start<br><span class="hljs-comment"># 输入电脑密码</span><br></code></pre></td></tr></table></figure>

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span>support-files/mysql.server stop<br><span class="hljs-comment"># 输入电脑密码</span><br></code></pre></td></tr></table></figure>

<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL26.png" srcset="/img/loading.gif" lazyload alt="MySQL26"></p>
<p><code>sudo</code>是管理员权限命令，<code>/usr/local/mysql/support-files/mysql.server</code> 每次输入启动比较冗长麻烦，将<code>/usr/local/mysql/support-files</code>加入环境变量即可。</p>
<p> <code>/usr/local/mysql/support-files</code>加入环境变量方法如下：</p>
<ol>
<li>终端输入命令<code>vim ~/.zprofile</code>，进入编辑页面</li>
<li>键盘点击<code>i</code>键，进入编辑模式</li>
<li>将<code>export PATH=$PATH:/usr/local/mysql/support-files</code>拷贝进去</li>
<li>键盘点击<code>ESC</code>退出按键，同时键盘输入<code>:wq</code>，表示保存并退出<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL27.png" srcset="/img/loading.gif" lazyload alt="MySQL27"></li>
</ol>
<p>此时，MySQL的启动和关闭命令简化为如下：</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta">sudo mysql.<span class="hljs-keyword">server</span> start<br><span class="hljs-meta"># 输入电脑密码</span><br></code></pre></td></tr></table></figure>

<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta">sudo mysql.<span class="hljs-keyword">server</span> stop<br><span class="hljs-meta"># 输入电脑密码</span><br></code></pre></td></tr></table></figure></li>
<li><p>系统偏好设置（不推荐：单纯启动和关闭，没有守护进程处理意外情况）<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL28.png" srcset="/img/loading.gif" lazyload alt="MySQL28"></p>
</li>
</ol>
<h4 id="连接MySQL-1"><a href="#连接MySQL-1" class="headerlink" title="连接MySQL"></a>连接MySQL</h4><p>安装并启动MySQL之后，就可以连接MySQL来测试是否已正确安装并启动成功。<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL29.png" srcset="/img/loading.gif" lazyload alt="MySQL29"></p>
<p>以后在开发时，肯定是要用Python代码来连接MySQL并且进行数据操作（后面讲）。</p>
<p>在安装MySQL时，其实也在本机自动安装了一个工具（客户端）<code>mysql</code>，现在用本机<code>mysql</code>实现连接MySQL并发送指令。<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL31.png" srcset="/img/loading.gif" lazyload alt="MySQL31"><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL30.png" srcset="/img/loading.gif" lazyload alt="MySQL30"></p>
<p>命令如下：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/</span>bin/mysql -h <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span> -P <span class="hljs-number">3306</span> -u root -p<br></code></pre></td></tr></table></figure>

<p>密码是上述安装过程中的随机密码，可以用<code>vim ~/.zprofile</code>语句将<code>/usr/local/mysql/bin</code>加入到环境变量：</p>
<p><code>export PATH=$PATH:/usr/local/mysql/bin</code></p>
<p>拷贝即可，<code>-h 127.0.0.1 -P 3306</code>本机连接时可以省略。简化命令如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysql -u root -<span class="hljs-selector-tag">p</span><br></code></pre></td></tr></table></figure>

<p>更改密码为<code>root123</code>:</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">set</span> <span class="hljs-keyword">password</span> = <span class="hljs-keyword">password</span>(<span class="hljs-string">&#x27;root123&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>查看默认数据库：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">show databases<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>

<p>退出：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">exit</span>;<br></code></pre></td></tr></table></figure>

<p>至此，在Mac系统中关于MySQL的安装和配置就完成了！！！</p>
<h3 id="关于配置文件"><a href="#关于配置文件" class="headerlink" title="关于配置文件"></a>关于配置文件</h3><p>上述的过程中，我们在配置文件中只添加了很少的配置。</p>
<p>其实，配置项有很多并且都有默认值，如果我们在配置文件中不进行配置说明，MySQL则自动使用默认值。</p>
<h3 id="关于密码"><a href="#关于密码" class="headerlink" title="关于密码"></a>关于密码</h3><h4 id="设置和修改密码"><a href="#设置和修改密码" class="headerlink" title="设置和修改密码"></a>设置和修改密码</h4><p>在windows系统中模块默认 root 账户是没有密码的，如果想要为账户设定密码，可以在利用root账户登录成功之后，执行语句将密码设置为<code>root123</code>：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">set</span> <span class="hljs-keyword">password</span> = <span class="hljs-keyword">password</span>(<span class="hljs-string">&#x27;root123&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL32.png" srcset="/img/loading.gif" lazyload alt="MySQL32"></p>
<h4 id="忘记密码"><a href="#忘记密码" class="headerlink" title="忘记密码"></a>忘记密码</h4><p>如果你忘记了MySQL账户的密码，则需要通过以下步骤设置新的密码：</p>
<ol>
<li><p>修改配置文件，在<code>[mysqld]</code>节点下添加<code>skip-grant-tables=1</code>：</p>
<figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs node-repl">[mysqld]<br><span class="hljs-meta">...</span><br>skip-grant-tables=1<br><span class="hljs-meta">...</span><br></code></pre></td></tr></table></figure></li>
<li><p>重启MySQL，重新读取配置文件后，再次登录就无需密码即可进入数据库</p>
<ol>
<li><p>Windows版本重启</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">net</span> stop mysql57<br><span class="hljs-built_in">net</span> <span class="hljs-built_in">start</span> mysql57<br></code></pre></td></tr></table></figure></li>
<li><p>Mac版本重启</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">sudo mysql.<span class="hljs-keyword">server</span> <span class="hljs-keyword">restart</span><br></code></pre></td></tr></table></figure></li>
</ol>
<p>此时，进入数据库就不需要密码了，连接MySQL数据库语句：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">mysql -u root -<span class="hljs-selector-tag">p</span><br></code></pre></td></tr></table></figure></li>
<li><p>连接MySQL，进入数据库，执行修改密码的语句：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">use mysql<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">update</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> authentication_string = <span class="hljs-keyword">password</span>(<span class="hljs-string">&#x27;新密码&#x27;</span>),password_last_changed=now() <span class="hljs-keyword">where</span> <span class="hljs-keyword">user</span>=<span class="hljs-string">&#x27;root&#x27;</span>;<br></code></pre></td></tr></table></figure></li>
<li><p><strong>退出并关闭MySQL数据库</strong>后，修改配置文件，删除<code>[mysqld]</code>节点下的<code>skip-grant-tables=1</code>语句：</p>
<figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs node-repl">[mysqld]<br><span class="hljs-meta">...</span><br># skip-grant-tables=1<br><span class="hljs-meta">...</span><br></code></pre></td></tr></table></figure></li>
<li><p>再次重启，以后就可以用新密码登录了。</p>
</li>
</ol>
<h2 id="数据库-管理"><a href="#数据库-管理" class="headerlink" title="数据库 管理"></a>数据库 管理</h2><p>安装上数据库之后，就需要开始学习指令了，通过指令让MySQL去做出一些文件操作。<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL33.png" srcset="/img/loading.gif" lazyload alt="MySQL33"></p>
<p>如果将数据库管理系统与文件管理做类比的话：</p>
<table>
<thead>
<tr>
<th>数据库管理系统</th>
<th>文件管理</th>
</tr>
</thead>
<tbody><tr>
<td>数据库</td>
<td>文件夹</td>
</tr>
<tr>
<td>数据表</td>
<td>文件夹下的excel文件</td>
</tr>
</tbody></table>
<p>接下来，我们先学习 数据库（文件夹）相关操作的指令。<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL34.png" srcset="/img/loading.gif" lazyload alt="MySQL34"></p>
<h3 id="内置客户端操作"><a href="#内置客户端操作" class="headerlink" title="内置客户端操作"></a>内置客户端操作</h3><p>当连接上MySQL后，执行如下指令（一般称为SQL语句），就可以对MySQL的数据进行操作。</p>
<ol>
<li><p>查看当前的所有数据库：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">show databases<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure></li>
<li><p>创建数据库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create database 数据库名 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;<br></code></pre></td></tr></table></figure>

<p>一般，使用<code>create database 数据库名</code>即可创建数据库，但是编码方式未指定，故加上<code>DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</code>更完整。</p>
</li>
<li><p>删除数据库：</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">database</span> 数据库名;<br></code></pre></td></tr></table></figure></li>
<li><p>进入数据库（进入文件夹）：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">use 数据库名<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#1.启动连接MySQL</span><br>Last login: Thu Sep  <span class="hljs-number">9</span> <span class="hljs-number">20</span>:<span class="hljs-number">46</span>:<span class="hljs-number">10</span> on ttys000<br>lee@leedeMacBook-Pro ~ % sudo mysql.server start<br>Password:<br>Starting MySQL<br>. SUCCESS! <br>lee@leedeMacBook-Pro ~ % mysql -u root -p<br>Enter password: <br>Welcome to the MySQL monitor.  Commands end <span class="hljs-keyword">with</span> ; <span class="hljs-keyword">or</span> \g.<br>Your MySQL connection <span class="hljs-built_in">id</span> <span class="hljs-keyword">is</span> <span class="hljs-number">2</span><br>Server version: <span class="hljs-number">5.7</span><span class="hljs-number">.31</span> MySQL Community Server (GPL)<br><br>Copyright (c) <span class="hljs-number">2000</span>, <span class="hljs-number">2020</span>, Oracle <span class="hljs-keyword">and</span>/<span class="hljs-keyword">or</span> its affiliates. All rights reserved.<br><br>Oracle <span class="hljs-keyword">is</span> a registered trademark of Oracle Corporation <span class="hljs-keyword">and</span>/<span class="hljs-keyword">or</span> its<br>affiliates. Other names may be trademarks of their respective<br>owners.<br><br><span class="hljs-type">Type</span> <span class="hljs-string">&#x27;help;&#x27;</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;\h&#x27;</span> <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>. <span class="hljs-type">Type</span> <span class="hljs-string">&#x27;\c&#x27;</span> to clear the current <span class="hljs-built_in">input</span> statement.<br><br><span class="hljs-comment">#2.查看数据库</span><br>mysql&gt; show databases;<br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| mysql              |<br>| performance_schema |<br>| sys                |<br>+--------------------+<br><span class="hljs-number">4</span> rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (<span class="hljs-number">0.01</span> sec)<br><br><span class="hljs-comment">#3.创建数据库testdb</span><br>mysql&gt; create database testdb DEFAULT CHARSET utf8 COLLATE utf8_general_ci;<br>Query OK, <span class="hljs-number">1</span> row affected (<span class="hljs-number">0.01</span> sec)<br><br>mysql&gt; show databases;<br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| mysql              |<br>| performance_schema |<br>| sys                |<br>| testdb             |<br>+--------------------+<br><span class="hljs-number">5</span> rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (<span class="hljs-number">0.00</span> sec)<br><br><span class="hljs-comment">#4.删除数据库testdb</span><br>mysql&gt; drop database testdb;<br>Query OK, <span class="hljs-number">0</span> rows affected (<span class="hljs-number">0.02</span> sec)<br><br>mysql&gt; show databases;<br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| mysql              |<br>| performance_schema |<br>| sys                |<br>+--------------------+<br><span class="hljs-number">4</span> rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (<span class="hljs-number">0.01</span> sec)<br><br><span class="hljs-comment">#5.进入数据库testdb（进入文件夹）</span><br><span class="hljs-comment">#a.创建数据库testdb</span><br>mysql&gt; create database testdb DEFAULT CHARSET utf8 COLLATE utf8_general_ci;<br>Query OK, <span class="hljs-number">1</span> row affected (<span class="hljs-number">0.01</span> sec)<br><span class="hljs-comment">#查看数据库</span><br>mysql&gt; show databases;<br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| mysql              |<br>| performance_schema |<br>| sys                |<br>| testdb             |<br>+--------------------+<br><span class="hljs-number">5</span> rows <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span> (<span class="hljs-number">0.00</span> sec)<br><span class="hljs-comment">#进入数据库testdb</span><br>mysql&gt; use testdb;<br>Database changed<br><span class="hljs-comment">#查看当前数据库testdb内的表</span><br>mysql&gt; show tables;<br>Empty <span class="hljs-built_in">set</span> (<span class="hljs-number">0.00</span> sec)<br><span class="hljs-comment">#6.退出并关闭数据库即可</span><br></code></pre></td></tr></table></figure>

<h3 id="Python代码操作"><a href="#Python代码操作" class="headerlink" title="Python代码操作"></a>Python代码操作</h3><p>无论通过什么方式去连接MySQL，本质上发送的 <strong>指令</strong> 都是相同的，只是连接方式和操作形式不同而已。</p>
<p>当连接上MYSQL后，执行如下指令，就可以对MySQL的数据进行操作。（同上述过程）</p>
<ol>
<li><p>查看当前的所有数据库：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">show databases<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure></li>
<li><p>创建数据库：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> 数据库名 <span class="hljs-keyword">DEFAULT</span> CHARSET utf8 <span class="hljs-keyword">COLLATE</span> utf8_general_ci;<br></code></pre></td></tr></table></figure>

<p>一般，使用<code>create database 数据库名</code>即可创建数据库，但是编码方式未指定，故加上<code>DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</code>更完整。</p>
</li>
<li><p>删除数据库：</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">database</span> 数据库名;<br></code></pre></td></tr></table></figure></li>
<li><p>进入数据库（进入文件夹）：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">use 数据库名<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<p>要想使用Python操作MySQL，则需要安装第三方模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pip3 install pymysql<br></code></pre></td></tr></table></figure>

<p>代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymysql<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br><br>    <span class="hljs-comment">#连接MySQL（底层即socket默认连接)</span><br>    conn = pymysql.connect(host = <span class="hljs-string">&#x27;127.0.0.1&#x27;</span>, port = <span class="hljs-number">3306</span>, user = <span class="hljs-string">&#x27;root&#x27;</span>, passwd = <span class="hljs-string">&#x27;root123&#x27;</span>, charset = <span class="hljs-string">&#x27;utf8&#x27;</span>)<br>    cursor = conn.cursor()  <span class="hljs-comment">#创建游标对象，基于游标发送指令语句</span><br><br>    <span class="hljs-comment">#1.查看数据库（查询用fetch系列方法，不需要调用conn.commit()方法）</span><br>    <span class="hljs-comment"># 发送指令  execute()方法执行SQL语句，其中;加不加都可以</span><br>    cursor.execute(<span class="hljs-string">&quot;show databases&quot;</span>)<br>    <span class="hljs-comment"># 获取指令结果</span><br>    <span class="hljs-comment"># result: ((&#x27;information_schema&#x27;,), (&#x27;mysql&#x27;,), (&#x27;performance_schema&#x27;,), (&#x27;sqldb&#x27;,), (&#x27;sys&#x27;,), (&#x27;testdb&#x27;,))</span><br>    <span class="hljs-comment"># result是一个元组结果，6个元素代表6个database</span><br>    result = cursor.fetchall()  <span class="hljs-comment"># fetchall()    获取所有结果</span><br>    <span class="hljs-comment"># pymysql .cursor属性方法详细见：https://blog.csdn.net/tcy23456/article/details/86665211</span><br><br><br>    <span class="hljs-comment">#2.创建数据库（当数据库发生变化，如新增，删除，修改等，在发送执行完SQL语句后，需要调用conn.commit()方法）</span><br>    <span class="hljs-comment"># 发送指令</span><br>    cursor.execute(<span class="hljs-string">&quot;create database pythondb DEFAULT CHARSET utf8 COLLATE utf8_general_ci&quot;</span>)<br>    conn.commit()<br><br>    <span class="hljs-comment">#3.删除数据库（当数据库发生变化，如新增，删除，修改等，在发送执行完SQL语句后，需要调用conn.commit()方法）</span><br>    cursor.execute(<span class="hljs-string">&quot;drop database pyhtondb&quot;</span>)<br>    conn.commit()<br><br><br>    <span class="hljs-comment">#4.进入数据库</span><br>    cursor.execute(<span class="hljs-string">&quot;use testdb&quot;</span>)<br>    cursor.execute(<span class="hljs-string">&quot;show tables&quot;</span>)<br>    result = cursor.fetchall()<br>    <span class="hljs-built_in">print</span>(result)<br><br>    <span class="hljs-comment">#5.关闭游标（光标）和连接</span><br>    cursor.close()<br>    conn.close()<br></code></pre></td></tr></table></figure>

<p>问题：python程序可以连接操作，本地端的服务不需要启动<code>mysql.server</code>，本地端启动<code>sudo mysql.server start</code>会报错，但是可以直接正常连接<code>mysql -u root -p</code></p>
<p>答：首先，可以直接正常连接<code>mysql -u root -p</code>，这说明<code>mysql.server</code>已经启动。结合启动<code>sudo mysql.server start</code>会报错的情况可知，有启动进程在运行，且<code>mysql.server</code>一直在占用运行，处于启动状态。解决方法如下：</p>
<ol>
<li><p>查看MySQL的运行状态：<code>sudo mysql.server status</code></p>
<p> 提示：MySQL is running but PID file could not be found</p>
<p>此时，需要停止所有的MySQL进程</p>
</li>
<li><p>查看所有关于MySQL的进程：<code>ps -ef|grep mysql</code><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL35.jpg" srcset="/img/loading.gif" lazyload alt="MySQL35"></p>
</li>
<li><p>关闭所有相关进程：<code>sudo kill &quot;进程名&quot;</code>（本例中<code>sudo kill 2127</code>）</p>
<p>注：一定加上<code>sudo</code>，否则权限不足</p>
</li>
<li><p>再次查看MySQL的运行状态：<code>sudo mysql.server status</code>，此时是关闭状态。然后可以重新启动MySQL：<code>sudo mysql.server start</code>，连接MySQL：<code>mysql -u root -p</code></p>
</li>
</ol>
<h2 id="数据表-管理"><a href="#数据表-管理" class="headerlink" title="数据表 管理"></a>数据表 管理</h2><p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL36.png" srcset="/img/loading.gif" lazyload alt="MySQL36"></p>
<p>如果将数据库管理系统与文件管理做类比的话：</p>
<table>
<thead>
<tr>
<th>数据库管理系统</th>
<th>文件管理</th>
</tr>
</thead>
<tbody><tr>
<td>数据库</td>
<td>文件夹</td>
</tr>
<tr>
<td>数据表</td>
<td>文件夹下的excel文件</td>
</tr>
</tbody></table>
<p>接下来，我们先学习 数据表（文件夹中的文件）相关操作的指令。</p>
<p>其实在数据库中 创建数据表 和 创建Excel 非常类似，需要指定： <code>表名</code>、<code>列名称</code>、<code>类的类型（整型、字符串或其他)</code>。</p>
<h3 id="内置客户端操作-1"><a href="#内置客户端操作-1" class="headerlink" title="内置客户端操作"></a>内置客户端操作</h3><p>数据表常见的操作指令：</p>
<ol>
<li><p>进入数据库：<code>use 数据库名</code>，查看当前数据库的所有表：<code>show tables</code></p>
</li>
<li><p>创建表结构：</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL37.png" srcset="/img/loading.gif" lazyload alt="MySQL37"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> 表名(<br>	列名	类型,<br>  列名	类型,<br>  列名	类型<br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;	<span class="hljs-comment">--注意括号中的,和末尾的;</span><br></code></pre></td></tr></table></figure>

<p>如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> tb1(<br>	id <span class="hljs-type">int</span>,<br>  name <span class="hljs-type">varchar</span>(<span class="hljs-number">16</span>)<br>)<span class="hljs-keyword">default</span> charset <span class="hljs-operator">=</span> utf8;<br></code></pre></td></tr></table></figure>

<p>可空与不可空的设置：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> tb2(<br>	id <span class="hljs-type">int</span>,<br>  name <span class="hljs-type">varchar</span>(<span class="hljs-number">16</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,	<span class="hljs-comment">--不允许为空</span><br>  email <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">null</span>,			<span class="hljs-comment">--允许为空（默认）</span><br>  age <span class="hljs-type">int</span><br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br></code></pre></td></tr></table></figure>

<p>默认值的设定：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> tb3(<br>	id <span class="hljs-type">int</span>,<br>  name <span class="hljs-type">varchar</span>(<span class="hljs-number">16</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,	<span class="hljs-comment">--不允许为空</span><br>  email <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">null</span>,			<span class="hljs-comment">--允许为空（默认）</span><br>  age <span class="hljs-type">int</span> <span class="hljs-keyword">default</span> <span class="hljs-number">3</span>	<span class="hljs-comment">--插入数据时，若不给age列赋值，默认值：3</span><br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br></code></pre></td></tr></table></figure>

<p>主键的设置：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> tb4(<br>	id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key,					<span class="hljs-comment">--主键（不可空，不可重复）</span><br>  name <span class="hljs-type">varchar</span>(<span class="hljs-number">16</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,	<span class="hljs-comment">--不允许空</span><br>  email <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">null</span>,			<span class="hljs-comment">--允许空（默认）</span><br>  age <span class="hljs-type">int</span> <span class="hljs-keyword">default</span> <span class="hljs-number">3</span> <span class="hljs-comment">--插入数据时，若不给age列赋值，默认值：3</span><br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br></code></pre></td></tr></table></figure>

<p>主键一般表示当前这条数据的ID编号（类似于人的身份证），需要我们自己维护一个不重复的值，比较繁琐。所以，在数据库中一般会将主键和自增相结合。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> tb5(<br>	id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> auto_increment <span class="hljs-keyword">primary</span> key,<span class="hljs-comment">--主键&amp;自增&amp;不可空</span><br>  name <span class="hljs-type">varchar</span>(<span class="hljs-number">16</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,	<span class="hljs-comment">--不可空</span><br>  email <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">null</span>,			<span class="hljs-comment">--可空（默认）</span><br>  age <span class="hljs-type">int</span> <span class="hljs-keyword">default</span> <span class="hljs-number">3</span> <span class="hljs-comment">--插入数据时，若不给age列赋值，默认值：3</span><br>)<br></code></pre></td></tr></table></figure>

<p>注意：一个表中只能有一个自增列【自增列，一般都是主键】</p>
</li>
<li><p>删除表：<code>drop table 表名;</code></p>
</li>
<li><p>清空表：<code>delete from 表名;</code>或者<code>truncate table 表名;</code></p>
<p>两者清空表的区别：<code>delete from 表名;</code>速度较慢；<code>truncate table 表名;</code>速度快，但不可以回滚撤销、不可以恢复已经清空的数据等。</p>
</li>
<li><p>查看表：<code>desc 表名;</code></p>
</li>
<li><p>修改表：</p>
<p>a. 添加列：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">add</span> 列名 类型;<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">add</span> 列名 类型 <span class="hljs-keyword">DEFAULT</span> 默认值;<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">add</span> 列名 类型 <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">default</span> 默认值；<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">add</span> 列名 类型 <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key auto_increment<br></code></pre></td></tr></table></figure>

<p>b. 删除列：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">drop</span> <span class="hljs-keyword">column</span> 列名;<br></code></pre></td></tr></table></figure>

<p>c. 修改列的类型：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 modify <span class="hljs-keyword">column</span> 列名 类型;<br></code></pre></td></tr></table></figure>

<p>d. 修改列的类型和名称：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 change 原列名 新列名 新类型;<br></code></pre></td></tr></table></figure>

<p>如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tb change id id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>;<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tb change id id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">default</span> <span class="hljs-number">5</span>;<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tb change id id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key auto_increment;<br><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> tb change id id <span class="hljs-type">int</span>;<span class="hljs-comment">--允许为空，取消主键，删除默认值，删除自增。</span><br></code></pre></td></tr></table></figure>

<p>e. 修改列的默认值：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表名 <span class="hljs-keyword">ALTER</span> 列名 <span class="hljs-keyword">SET</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">1000</span>;<br></code></pre></td></tr></table></figure>

<p>f. 删除列的默认值：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表名 <span class="hljs-keyword">ALTER</span> 列名 <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">DEFAULT</span>;<br></code></pre></td></tr></table></figure>

<p>g. 添加主键：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">add</span> <span class="hljs-keyword">primary</span> key(列名);<br></code></pre></td></tr></table></figure>

<p>h. 删除主键：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">drop</span> <span class="hljs-keyword">primary</span> key;<br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="数据表的列类型"><a href="#数据表的列类型" class="headerlink" title="数据表的列类型"></a>数据表的列类型</h2><h3 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t1(<br>	id <span class="hljs-type">int</span><br>)<span class="hljs-keyword">default</span> charset <span class="hljs-operator">=</span> utf8;<br></code></pre></td></tr></table></figure>

<p>​        <code>int[(m)] [unsigned] [zerofill]</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">int							表示有符号，取值范围：-2147483648～2147483647<br>int unsigned		表示无符号，取值范围：0～4292967295<br>int(5)zerofill	当数据不足5位时，左边补0凑足5位<br></code></pre></td></tr></table></figure>

<p>如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> L1(<br>	id <span class="hljs-type">int</span>,<br>  uid <span class="hljs-type">int</span> unsigned,<br>  zid <span class="hljs-type">int</span>(<span class="hljs-number">5</span>)zerofill<br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L1(id,uid,zid) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);<br>Query OK, <span class="hljs-number">1</span> <span class="hljs-type">row</span> affected (<span class="hljs-number">0.01</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">show</span> tables;<br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+</span><br><span class="hljs-operator">|</span> Tables_in_testdb <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+</span><br><span class="hljs-operator">|</span> L1               <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+</span><br><span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> L1;<br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+-------+</span><br><span class="hljs-operator">|</span> id   <span class="hljs-operator">|</span> uid  <span class="hljs-operator">|</span> zid   <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+-------+</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">1</span> <span class="hljs-operator">|</span>    <span class="hljs-number">2</span> <span class="hljs-operator">|</span> <span class="hljs-number">00003</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+-------+</span><br><span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L1(id,uid,zid) <span class="hljs-keyword">values</span>(<span class="hljs-number">2147483641000</span>,<span class="hljs-number">4294967294</span>,<span class="hljs-number">300000</span>);<br>ERROR <span class="hljs-number">1264</span> (<span class="hljs-number">22003</span>): <span class="hljs-keyword">Out</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">range</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">column</span> <span class="hljs-string">&#x27;id&#x27;</span> <span class="hljs-keyword">at</span> <span class="hljs-type">row</span> <span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure>

<p>​        <code>tinyint[(m)] [unsigned] [zerofill]</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">tinyint							表示有符号，取值范围：-128～127<br>tinyint unsigned		表示无符号，取值范围：0～255<br>tinyint(2)zerofill	当数值不足2位时，左边补0凑足两位<br></code></pre></td></tr></table></figure>

<p>​        <code>bigint[(m)] [unsigned] [zerofill]</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">bigint							表示有符号，取值范围：-9223372036854775808 ～ 9223372036854775807<br>bigint unsigned			表示无符号，取值范围：0  ～  18446744073709551615<br>bigint(6)zerofill		当数值不足6位时，左边补0凑足6位<br></code></pre></td></tr></table></figure>

<h3 id="小数"><a href="#小数" class="headerlink" title="小数"></a>小数</h3><p>​        <code>decimal[(m[,d])] [unsigned] [zerofill] </code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql">准确的小数值，m是数字个数（负号不算），d是小数点后的个数，m的最大值为<span class="hljs-number">65</span>，d的最大值为<span class="hljs-number">30</span>。<br><br>如：<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> L2(<br>	id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key auto_increment,<br>  salary <span class="hljs-type">decimal</span>(<span class="hljs-number">8</span>,<span class="hljs-number">2</span>)<br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L1(id,uid,zid) <span class="hljs-keyword">values</span>(<span class="hljs-number">2147483641000</span>,<span class="hljs-number">4294967294</span>,<span class="hljs-number">300000</span>);<br>ERROR <span class="hljs-number">1264</span> (<span class="hljs-number">22003</span>): <span class="hljs-keyword">Out</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">range</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">column</span> <span class="hljs-string">&#x27;id&#x27;</span> <span class="hljs-keyword">at</span> <span class="hljs-type">row</span> <span class="hljs-number">1</span><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> L2(<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key auto_increment,<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> salary <span class="hljs-type">decimal</span>(<span class="hljs-number">8</span>,<span class="hljs-number">2</span>)<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> )<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br>Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.04</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">show</span> tables;<br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+</span><br><span class="hljs-operator">|</span> Tables_in_testdb <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+</span><br><span class="hljs-operator">|</span> L1               <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> L2               <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+</span><br><span class="hljs-number">2</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> L2;<br><span class="hljs-keyword">Empty</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L2(salary) <span class="hljs-keyword">values</span>(<span class="hljs-number">1.28</span>);<br>Query OK, <span class="hljs-number">1</span> <span class="hljs-type">row</span> affected (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> L2;<br><span class="hljs-operator">+</span><span class="hljs-comment">----+--------+</span><br><span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> salary <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+--------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span>   <span class="hljs-number">1.28</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+--------+</span><br><span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L2(salary) <span class="hljs-keyword">values</span>(<span class="hljs-number">2.345</span>);<br>Query OK, <span class="hljs-number">1</span> <span class="hljs-type">row</span> affected, <span class="hljs-number">1</span> warning (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> L2;<br><span class="hljs-operator">+</span><span class="hljs-comment">----+--------+</span><br><span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> salary <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+--------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span>   <span class="hljs-number">1.28</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">2</span> <span class="hljs-operator">|</span>   <span class="hljs-number">2.35</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+--------+</span><br><span class="hljs-number">2</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.01</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L2(salary) <span class="hljs-keyword">values</span>(<span class="hljs-number">521131.14</span>);<br>Query OK, <span class="hljs-number">1</span> <span class="hljs-type">row</span> affected (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> L2;<br><span class="hljs-operator">+</span><span class="hljs-comment">----+-----------+</span><br><span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> salary    <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+-----------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span>      <span class="hljs-number">1.28</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">2</span> <span class="hljs-operator">|</span>      <span class="hljs-number">2.35</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">3</span> <span class="hljs-operator">|</span> <span class="hljs-number">521131.14</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+-----------+</span><br><span class="hljs-number">3</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L2(salary) <span class="hljs-keyword">values</span>(<span class="hljs-number">5211314.2</span>);<br>ERROR <span class="hljs-number">1264</span> (<span class="hljs-number">22003</span>): <span class="hljs-keyword">Out</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">range</span> <span class="hljs-keyword">value</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">column</span> <span class="hljs-string">&#x27;salary&#x27;</span> <span class="hljs-keyword">at</span> <span class="hljs-type">row</span> <span class="hljs-number">1</span><br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L2(salary) <span class="hljs-keyword">values</span>(<span class="hljs-number">521131.141</span>);<br>Query OK, <span class="hljs-number">1</span> <span class="hljs-type">row</span> affected, <span class="hljs-number">1</span> warning (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> L2;<br><span class="hljs-operator">+</span><span class="hljs-comment">----+-----------+</span><br><span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> salary    <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+-----------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span>      <span class="hljs-number">1.28</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">2</span> <span class="hljs-operator">|</span>      <span class="hljs-number">2.35</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">3</span> <span class="hljs-operator">|</span> <span class="hljs-number">521131.14</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">4</span> <span class="hljs-operator">|</span> <span class="hljs-number">521131.14</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+-----------+</span><br><span class="hljs-number">4</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)                    <br></code></pre></td></tr></table></figure>

<p>​        <code>FLOAT[(M,D)] [UNSIGNED] [ZEROFILL]</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">单精度浮点数，非准确小数值，m是数字总个数，d是小数点后的数字总个数<br>底层存储为32位存储，不建议使用<br></code></pre></td></tr></table></figure>

<p>​        <code>DOUBLE[(M,D)] [UNSIGNED] [ZEROFILL]</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">双精度浮点数，非准确小数值，m是数字总个数，d是小数点后的数字总个数<br>底层存储为64位存储，不建议使用<br></code></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>​        <code>char(m)</code></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">定长字符串，m表示字符串长度，最多可容纳<span class="hljs-number">255</span>个字符，字符，字符。<br><br>定长的体现：即使内容长度小于m，也会占用m长度。如果内容长度超出m长度限制（默认MySQL为严格模式），则会报错。<br>		如果在配置文件中加入如下配置，<br>		<span class="hljs-keyword">sql</span>-mode = &quot;NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;<br>		保存并重启后，此时的MySQL是非严格模式，此时则不会报错，但是超出m长度的部分会自动截断。<br>		<br>注意：默认底层存储是固定的长度（不够的话则用空格补齐），但是查询数据时，会自动将空格去除。如果在查询时，想要保留补齐的空格部分，在<span class="hljs-keyword">sql</span>-mode中加入参数 PAD_CHAR_TO_FULL_LENGTH 即可。查看模式<span class="hljs-keyword">sql</span>-mode的参数，执行命令： <span class="hljs-keyword">show</span> variables <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;sql-mode&#x27;</span>;<br><br>一般适用于：固定长度的内容<br></code></pre></td></tr></table></figure>

<p>​        <code>varchar(m)</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql">变长字符串，m代表字符串的长度，最大可容纳<span class="hljs-number">65535</span>个字节，字节，字节。（一个汉子占三个字节）<br><br>变长的体现：当内容长度小于m时，会按照真实的数据长度存储；如果超过m长度限制（默认MySQL为严格模式），则会报错。<br>		如果在配置文件中加入如下配置，<br>		<span class="hljs-keyword">sql</span><span class="hljs-operator">-</span>mode <span class="hljs-operator">=</span> &quot;NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;<br>		保存并重启后，此时的MySQL是非严格模式，此时则不会报错，但是超出m长度的部分会自动截断。<br>		<br>如：<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> L3(<br> id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key auto_increment,<br> name <span class="hljs-type">varchar</span>(<span class="hljs-number">5</span>),<br> depart <span class="hljs-type">char</span>(<span class="hljs-number">3</span>)<br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br></code></pre></td></tr></table></figure>

<p>​        <code>text</code></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">text数据类型用于保存变长的大字符串，可以组多到65535 (<span class="hljs-number">2</span>**<span class="hljs-number">16</span> − <span class="hljs-number">1</span>)个字符。<br><br>一般情况下，长文本会用text类型。例如：文章、新闻等。<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> L4(<br>		id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key auto_increment,<br>    title <span class="hljs-type">varchar</span>(<span class="hljs-number">128</span>),<br>		content text<br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br></code></pre></td></tr></table></figure>

<p>​        <code>mediumtext</code></p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">A TEXT column <span class="hljs-keyword">with</span> <span class="hljs-keyword">a</span> maximum <span class="hljs-built_in">length</span> <span class="hljs-keyword">of</span> <span class="hljs-number">16</span>,<span class="hljs-number">777</span>,<span class="hljs-number">215</span> (<span class="hljs-number">2</span>**<span class="hljs-number">24</span> − <span class="hljs-number">1</span>) <span class="hljs-keyword">characters</span>.<br><br>注：基本用不到<br></code></pre></td></tr></table></figure>

<p>​        <code>longtext</code></p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">TEXT</span> <span class="hljs-selector-tag">column</span> <span class="hljs-selector-tag">with</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">maximum</span> <span class="hljs-selector-tag">length</span> <span class="hljs-selector-tag">of</span> <span class="hljs-selector-tag">4</span>,<span class="hljs-selector-tag">294</span>,<span class="hljs-selector-tag">967</span>,<span class="hljs-selector-tag">295</span> <span class="hljs-selector-tag">or</span> <span class="hljs-selector-tag">4GB</span> (<span class="hljs-number">2</span>**<span class="hljs-number">32</span> − <span class="hljs-number">1</span>)<br><br>注：基本用不到<br></code></pre></td></tr></table></figure>

<h3 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h3><p>​        <code>datetime</code></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">YYYY</span>-MM-DD HH:MM:SS	（<span class="hljs-number">1000</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>/<span class="hljs-number">9999</span>-<span class="hljs-number">12</span>-<span class="hljs-number">31</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">59</span>）<br></code></pre></td></tr></table></figure>

<p>​        <code>timestamp</code></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">YYYY</span>-MM-DD HH:MM:SS	（<span class="hljs-number">1970</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>/<span class="hljs-number">2037</span>年）<br></code></pre></td></tr></table></figure>

<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">两者的区别如下：<br>对于<span class="hljs-type">TIMESTAMP</span>，它把客户端插入的时间从当前时区转化为UTC（世界标准时间）进行存储，查询时，又将其转化为当前时区进行返回。<br><br>对于DATETIME，它不会做任何改变，原样输入和输出。<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs sql">mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> L5(<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key auto_increment,<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> dt datetime,<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> tt <span class="hljs-type">timestamp</span><br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> )<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br>Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.03</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> L5(dt,tt) <span class="hljs-keyword">values</span>(&quot;2025-11-11 11:11:44&quot;, &quot;2025-11-11 11:11:44&quot;);<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> L5;<br><span class="hljs-operator">+</span><span class="hljs-comment">----+---------------------+---------------------+</span><br><span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> dt                  <span class="hljs-operator">|</span> tt                  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+---------------------+---------------------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span> <span class="hljs-number">2025</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">44</span> <span class="hljs-operator">|</span> <span class="hljs-number">2025</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">44</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+---------------------+---------------------+</span><br><span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">show</span> variables <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%time_zone%&#x27;</span>;<br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+--------+</span><br><span class="hljs-operator">|</span> Variable_name    <span class="hljs-operator">|</span> <span class="hljs-keyword">Value</span>  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+--------+</span><br><span class="hljs-operator">|</span> system_time_zone <span class="hljs-operator">|</span> CST    <span class="hljs-operator">|</span> <br><span class="hljs-operator">|</span> time_zone        <span class="hljs-operator">|</span> <span class="hljs-keyword">SYSTEM</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+--------+</span><br><span class="hljs-number">2</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><span class="hljs-comment">-- “CST”指的是MySQL所在主机的系统时间，是中国标准时间的缩写，China Standard Time UT+8:00</span><br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">set</span> time_zone<span class="hljs-operator">=</span><span class="hljs-string">&#x27;+0:00&#x27;</span>;<br>Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">show</span> variables <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%time_zone%&#x27;</span>;<br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+--------+</span><br><span class="hljs-operator">|</span> Variable_name    <span class="hljs-operator">|</span> <span class="hljs-keyword">Value</span>  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+--------+</span><br><span class="hljs-operator">|</span> system_time_zone <span class="hljs-operator">|</span> CST    <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> time_zone        <span class="hljs-operator">|</span> <span class="hljs-operator">+</span><span class="hljs-number">00</span>:<span class="hljs-number">00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------------+--------+</span><br><span class="hljs-number">2</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.01</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> L5;<br><span class="hljs-operator">+</span><span class="hljs-comment">----+---------------------+---------------------+</span><br><span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> dt                  <span class="hljs-operator">|</span> tt                  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+---------------------+---------------------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span> <span class="hljs-number">2025</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">11</span>:<span class="hljs-number">11</span>:<span class="hljs-number">44</span> <span class="hljs-operator">|</span> <span class="hljs-number">2025</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">03</span>:<span class="hljs-number">11</span>:<span class="hljs-number">44</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+---------------------+---------------------+</span><br><span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br></code></pre></td></tr></table></figure>

<p>​        <code>date</code></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">YYYY</span>-MM-DD（<span class="hljs-number">1000</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span>/<span class="hljs-number">9999</span>-<span class="hljs-number">12</span>-<span class="hljs-number">31</span>）<br></code></pre></td></tr></table></figure>

<p>​        <code>time</code></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">HH</span>:MM:SS（&#x27;-<span class="hljs-number">838</span>:<span class="hljs-number">59</span>:<span class="hljs-number">59</span>&#x27;/&#x27;<span class="hljs-number">838</span>:<span class="hljs-number">59</span>:<span class="hljs-number">59</span>&#x27;）<br></code></pre></td></tr></table></figure>

<p>注意：MySQL还有很多其他的数据类型，例如：<em>set、enum、TinyBlob、Blob、MediumBlob、LongBlob 等</em>，详细见官方文档：<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.7/en/data-types.html">https://dev.mysql.com/doc/refman/5.7/en/data-types.html</a></p>
<h2 id="数据表的Python代码操作"><a href="#数据表的Python代码操作" class="headerlink" title="数据表的Python代码操作"></a>数据表的Python代码操作</h2><p>基于Python去连接MySQL之后，进行数据表的管理，发送的指令其实是相同的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymysql<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    conn = pymysql.connect(host=<span class="hljs-string">&quot;127.0.0.1&quot;</span>,port=<span class="hljs-number">3306</span>,user=<span class="hljs-string">&quot;root&quot;</span>,passwd=<span class="hljs-string">&quot;root123&quot;</span>,charset=<span class="hljs-string">&quot;utf8&quot;</span>)<br>    cursor = conn.cursor()<br><br>    <span class="hljs-comment">#创建数据库</span><br>    sql = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    create database db5 default charset utf8 collate utf8_general_ci </span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    cursor.execute(sql)<br>    conn.commit()<br><br>    <span class="hljs-comment">#进入数据库db5,创建表L4</span><br>    cursor.execute(<span class="hljs-string">&quot;use db5&quot;</span>)<br>    sql =  <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">        create table L4(</span><br><span class="hljs-string">         id int not null primary key auto_increment,</span><br><span class="hljs-string">         name varchar(5),</span><br><span class="hljs-string">         grade decimal(3,1)</span><br><span class="hljs-string">         )default charset=&quot;utf8&quot;;</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    cursor.execute(sql)<br>    conn.commit()<br><br>    <span class="hljs-comment">#添加数据到数据表L4</span><br>    <span class="hljs-comment">#字符串类型的值插入数据表时，要加引号</span><br>    sql = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    insert into L4(name,grade) values(&quot;lgj&quot;,98.5)</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    cursor.execute(sql)<br>    conn.commit()<br><br>    <span class="hljs-comment">#查看数据表L4</span><br>    sql = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    select * from L4</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    cursor.execute(sql)<br>    result = cursor.fetchall()<br>    <span class="hljs-built_in">print</span>(result)<br><br></code></pre></td></tr></table></figure>

<h2 id="数据行的增删改查（重点）"><a href="#数据行的增删改查（重点）" class="headerlink" title="数据行的增删改查（重点）"></a>数据行的增删改查（重点）</h2><h4 id="内置客户端操作-2"><a href="#内置客户端操作-2" class="headerlink" title="内置客户端操作"></a>内置客户端操作</h4><ol>
<li><p>新增数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> 表名(列名,列名,列名) <span class="hljs-keyword">values</span>(对应列的值,对应列的值,对应列的值);<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tb1(name,pwd) <span class="hljs-keyword">values</span>(&quot;gj&quot;,&quot;123456&quot;);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> tb1(name,pwd) <span class="hljs-keyword">values</span>((&quot;gj&quot;,&quot;123123&quot;),(&quot;ll&quot;,&quot;123456&quot;));<br><br><span class="hljs-comment">--当表tb1中有且仅有两列(name,pwd)时，可以省略tb1(name,pwd)</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> <span class="hljs-keyword">values</span>((&quot;gj&quot;,&quot;123123&quot;),(&quot;ll&quot;,&quot;123456&quot;));<br></code></pre></td></tr></table></figure></li>
<li><p>删除数据</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> 表名;<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> 表名 <span class="hljs-keyword">where</span> 条件;<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> tb1;<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> tb1 <span class="hljs-keyword">where</span> name<span class="hljs-operator">=</span>&quot;ll&quot;;<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> tb1 <span class="hljs-keyword">where</span> name<span class="hljs-operator">=</span>&quot;gj&quot; <span class="hljs-keyword">and</span> pwd<span class="hljs-operator">=</span>&quot;123&quot;;<br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> tb1 <span class="hljs-keyword">where</span> id<span class="hljs-operator">&gt;</span><span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure></li>
<li><p>修改数据</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">update</span> 表名 <span class="hljs-keyword">set</span> 列名=值;<br><span class="hljs-keyword">update</span> 表名 <span class="hljs-keyword">set</span> 列名=值 <span class="hljs-keyword">where</span> 条件;<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql">update tb1 <span class="hljs-keyword">set</span> name<span class="hljs-operator">=</span>&quot;lgj&quot;;<br>update tb1 <span class="hljs-keyword">set</span> name<span class="hljs-operator">=</span>&quot;lll&quot; <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>update tb1 <span class="hljs-keyword">set</span> age<span class="hljs-operator">=</span>age<span class="hljs-operator">+</span><span class="hljs-number">1</span> <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br><br><span class="hljs-comment">--符合条件的name列的每个数据后拼接&quot;sb&quot;字符串</span><br>update tb1 <span class="hljs-keyword">set</span> name<span class="hljs-operator">=</span>concat(name,&quot;sb&quot;) <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure></li>
<li><p>查询数据</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> 表名;<br><span class="hljs-keyword">select</span> 列名,列名,列名 <span class="hljs-keyword">from</span> 表名;<br><br><span class="hljs-comment">--自定义查询数据表结果中新增一列数据</span><br><span class="hljs-keyword">select</span> 列名,列名 <span class="hljs-keyword">as</span> 新列名,列名 <span class="hljs-keyword">from</span> 表名;<br><br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> 表名 <span class="hljs-keyword">where</span> 条件;<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> tb1;<br><span class="hljs-keyword">select</span> id,name,age <span class="hljs-keyword">from</span> tb1;<br><span class="hljs-keyword">select</span> id,name <span class="hljs-keyword">as</span> N,age,<span class="hljs-number">111</span> <span class="hljs-keyword">from</span> tb1;<br><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> tb1 <span class="hljs-keyword">where</span> id <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> tb1 <span class="hljs-keyword">where</span> id <span class="hljs-operator">!=</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> tb1 <span class="hljs-keyword">where</span> name<span class="hljs-operator">=</span>&quot;gj&quot; <span class="hljs-keyword">and</span> pad<span class="hljs-operator">=</span>&quot;123&quot;;<br></code></pre></td></tr></table></figure>

<p>如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql">mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> id,name,age <span class="hljs-keyword">from</span> L4;<br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+</span><br><span class="hljs-operator">|</span> id   <span class="hljs-operator">|</span> name <span class="hljs-operator">|</span> age  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+</span><br><span class="hljs-operator">|</span> <span class="hljs-number">2001</span> <span class="hljs-operator">|</span> q    <span class="hljs-operator">|</span>   <span class="hljs-number">10</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> <span class="hljs-number">2021</span> <span class="hljs-operator">|</span> e    <span class="hljs-operator">|</span>   <span class="hljs-number">11</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> <span class="hljs-number">2011</span> <span class="hljs-operator">|</span> r    <span class="hljs-operator">|</span>   <span class="hljs-number">15</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+</span><br><span class="hljs-number">3</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> id,name <span class="hljs-keyword">as</span> N,age,<span class="hljs-number">111</span> <span class="hljs-keyword">from</span> L4;<br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+-----+</span><br><span class="hljs-operator">|</span> id   <span class="hljs-operator">|</span> N    <span class="hljs-operator">|</span> age  <span class="hljs-operator">|</span> <span class="hljs-number">111</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+-----+</span><br><span class="hljs-operator">|</span> <span class="hljs-number">2001</span> <span class="hljs-operator">|</span> q    <span class="hljs-operator">|</span>   <span class="hljs-number">10</span> <span class="hljs-operator">|</span> <span class="hljs-number">111</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> <span class="hljs-number">2021</span> <span class="hljs-operator">|</span> e    <span class="hljs-operator">|</span>   <span class="hljs-number">11</span> <span class="hljs-operator">|</span> <span class="hljs-number">111</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> <span class="hljs-number">2011</span> <span class="hljs-operator">|</span> r    <span class="hljs-operator">|</span>   <span class="hljs-number">15</span> <span class="hljs-operator">|</span> <span class="hljs-number">111</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+-----+</span><br><span class="hljs-number">3</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="Python代码操作-1"><a href="#Python代码操作-1" class="headerlink" title="Python代码操作"></a>Python代码操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymysql<br><br><span class="hljs-comment">#连接MySQL，自动执行：use userdb;		--进入数据库</span><br>conn = pymysql.connect(host=<span class="hljs-string">&#x27;127.0.0.1&#x27;</span>,port=<span class="hljs-number">3306</span>,user=<span class="hljs-string">&#x27;root&#x27;</span>,passwd=<span class="hljs-string">&#x27;root123&#x27;</span>,charset=<span class="hljs-string">&#x27;utf8&#x27;</span>,db=<span class="hljs-string">&#x27;userdb&#x27;</span>)<br>cursor = conn.cursor()<br><br><span class="hljs-comment">#1.新增（需要commit）</span><br>sql = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">insert into tb1(name,password) values(&quot;吕顾钧&quot;,&quot;123456&quot;)</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br>cursor.execute(sql)<br>conn.commit()<br><br><span class="hljs-comment">#2.删除（需要commit）</span><br>sql = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">delete from tb1 where id = 1</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br>cursor.execute(sql)<br>conn.commit()<br><br><span class="hljs-comment">#3.修改（需要commit）</span><br>sql = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">update tb1 set name = &#x27;xx&#x27; where id = 1</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br>cursor.execute(sql)<br>conn.commit()<br><br><span class="hljs-comment">#4.查询</span><br>sql = <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">select * from tb1 where id &gt; 10</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br>cursor.execute(sql)<br>data = cursor.fetchone()			<span class="hljs-comment">#cursor.fetchone()</span><br><span class="hljs-built_in">print</span>(data)<br><br><span class="hljs-comment">#5.关闭连接</span><br>cursor.close()<br>conn.close()<br></code></pre></td></tr></table></figure>

<h4 id="实战案例：用户管理系统"><a href="#实战案例：用户管理系统" class="headerlink" title="实战案例：用户管理系统"></a>实战案例：用户管理系统</h4><ol>
<li><p>先使用MySQL内置客户端创建相关的<strong>数据库和表结构</strong>（相当于先创建好Excel结构）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">--创建数据库userdb</span><br><span class="hljs-keyword">create</span> database userdb <span class="hljs-keyword">default</span> charset utf8 <span class="hljs-keyword">collate</span> utf8_general_ci;<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">--在数据库userdb中，创建数据表</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> users（<br>id <span class="hljs-type">int</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key auto_increment,<br>name <span class="hljs-type">varchar</span>(<span class="hljs-number">21</span>),<br>password <span class="hljs-type">varchar</span>(<span class="hljs-number">64</span>)<br>)<span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>&quot;utf8&quot;;<br></code></pre></td></tr></table></figure></li>
<li><p>再在程序中执行编写的程序实现注册、登录等功能。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymysql<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">register</span>():</span><br>    <span class="hljs-comment"># 输入注册信息</span><br>    username = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入用户名：&quot;</span>)<br>    password = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入密码：&quot;</span>)<br><br>    <span class="hljs-comment"># 连接数据库</span><br>    conn = pymysql.connect(host=<span class="hljs-string">&quot;127.0.0.1&quot;</span>, port=<span class="hljs-number">3306</span>, user=<span class="hljs-string">&quot;root&quot;</span>, passwd=<span class="hljs-string">&quot;root123&quot;</span>, charset=<span class="hljs-string">&quot;utf8&quot;</span>, db=<span class="hljs-string">&quot;userdb&quot;</span>)<br>    cursor = conn.cursor()<br><br>    <span class="hljs-comment"># 注册信息写入数据库</span><br>    sql = <span class="hljs-string">f&#x27;&#x27;&#x27;</span><br><span class="hljs-string">  insert into users(name,password) values(&quot;<span class="hljs-subst">&#123;username&#125;</span>&quot;,&quot;<span class="hljs-subst">&#123;password&#125;</span>&quot;)</span><br><span class="hljs-string">  &#x27;&#x27;&#x27;</span><br>    cursor.execute(sql)<br>    conn.commit()<br><br>    <span class="hljs-comment"># 关闭连接</span><br>    cursor.close()<br>    conn.close()<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;username&#125;</span>注册成功！密码<span class="hljs-subst">&#123;password&#125;</span>&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">login</span>():</span><br>    <span class="hljs-comment"># 输入登录信息</span><br>    username = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入用户名：&quot;</span>)<br>    password = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入密码：&quot;</span>)<br><br>    <span class="hljs-comment"># 连接数据库</span><br>    conn = pymysql.connect(host=<span class="hljs-string">&quot;127.0.0.1&quot;</span>, port=<span class="hljs-number">3306</span>, user=<span class="hljs-string">&quot;root&quot;</span>, passwd=<span class="hljs-string">&quot;root123&quot;</span>, charset=<span class="hljs-string">&quot;utf8&quot;</span>, db=<span class="hljs-string">&quot;userdb&quot;</span>)<br>    cursor = conn.cursor()<br><br>    <span class="hljs-comment"># 查询数据库</span><br>    sql = <span class="hljs-string">f&#x27;&#x27;&#x27;</span><br><span class="hljs-string">  select * from users where name = &quot;<span class="hljs-subst">&#123;username&#125;</span>&quot; and password = &quot;<span class="hljs-subst">&#123;password&#125;</span>&quot;</span><br><span class="hljs-string">  &#x27;&#x27;&#x27;</span><br>    cursor.execute(sql)<br>    <span class="hljs-comment">#fetchone只拿取sql语句查询到结果的第一行,返回元组类型</span><br>    <span class="hljs-comment">#没查询到：None</span><br>    <span class="hljs-comment">#查询到：（1，username，password）</span><br>    <span class="hljs-comment">#fetchall拿取sql语句查询到所有结果,返回元组类型，元组的元素是元组</span><br>    <span class="hljs-comment">#没查询到：None</span><br>    <span class="hljs-comment">#查询到：((1,username1,password1),(2,username2,password2),(3,username3,password3))</span><br>    data = cursor.fetchone()<br>    <span class="hljs-comment"># data会有两种结果：None		（1，username，password）</span><br><br>    <span class="hljs-comment"># 登录结果反馈</span><br>    <span class="hljs-keyword">if</span> data:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;username&#125;</span>登录成功！&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;登录失败！&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>():</span><br><br>    choice = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;1.注册 2.登录   :&quot;</span>))<br>    <span class="hljs-keyword">if</span> choice == <span class="hljs-number">1</span>:<br>        register()<br>    <span class="hljs-keyword">elif</span> choice == <span class="hljs-number">2</span>:<br>        login()<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;输入错误！&quot;</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    run()<br></code></pre></td></tr></table></figure>

<p>注：在项目开发中，<strong>数据库和数据表的操作次数很少</strong>，往往只有一次，最常做的操作是<strong>对数据进行增删改查</strong>。</p>
</li>
</ol>
<h5 id="关于SQL注入"><a href="#关于SQL注入" class="headerlink" title="关于SQL注入"></a>关于SQL注入</h5><p>在MySQL中，注释语句有三种，<code>...</code>是被注释的内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">注释符有三种：<br>1、#...<br>2、&quot;-- ...&quot;<br>3、/*...*/<br><br>tips:注释符&quot;--&quot;错了,需要一个空格,应该是&quot;-- &quot;<br></code></pre></td></tr></table></figure>

<p>在上述用户管理系统中，理论上只有输入（在数据库中存在）正确的用户名和密码，才能返回正确的用户数据，完成登录。</p>
<p>在登录函数<code>def login()</code>中，sql查询语句为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">    sql = f&#x27;&#x27;&#x27;<br>    select * from users where name = &quot;&#123;username&#125;&quot; and password = &quot;&#123;password&#125;&quot;<br>&#x27;&#x27;&#x27;<br></code></pre></td></tr></table></figure>

<p>当我们巧妙利用MySQL的注释语句，就可以突破查询语句的漏洞：当用户名<code>username</code>输入以下两种时：</p>
<ol>
<li><code>&quot;  or 1=1 #</code></li>
<li><code>&quot; or 1=1 -- </code>（注意<code>--</code>后还有一个空格）</li>
</ol>
<p>此时，代入上述其中一个<code>username</code>到登录函数<code>def login()</code>中的sql查询语句，就会变成：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from users where name = &quot;&quot;  or 1=1 #&quot; and password = &quot;&#123;password&#125;<br></code></pre></td></tr></table></figure>

<p>注：<code>#</code>及以后的内容被注释，实际有效的sql查询语句为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from users where name = &quot;&quot;  or 1=1 <br></code></pre></td></tr></table></figure>

<p>这样一来，密码随意输入，即可拿到fetchone()数据库中第一个用户的用户名和密码。（代入<code>&quot; or 1=1 -- </code>这个<code>username</code>同理）</p>
<p><strong>上述利用sql语句的注释漏洞，突破用户认证的问题，我们称为SQL注入问题。</strong></p>
<h5 id="解决SQL注入问题"><a href="#解决SQL注入问题" class="headerlink" title="解决SQL注入问题"></a>解决SQL注入问题</h5><p>解决SQL注入问题，需要我们改变用户输入字符串的拼接方式即可：<strong>SQL语句不要在python的字符串格式化拼接，是使用pymysql的execute()方法。</strong></p>
<p>execute()方法的三种使用参数格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#直接存放SQL语句<br>execute(&quot;select * from tb1&quot;)<br><br>#存放含参的SQL语句，用参数值列表传参<br>execute(&quot;select * from users where name = %s and password = %s&quot;,[username,password])<br><br>#当SQL语句含参较多时，在传递参数时，为准确对应参数，还可以用参数值字典传参<br>#存放含参的SQL语句，用参数值字典传参<br>execute(&quot;select * from users where name = %(p1)s and password = %(p2)s&quot;,&#123;&quot;p1&quot;:username,&quot;p2&quot;:password&#125;)<br></code></pre></td></tr></table></figure>

<p>故上述用户管理系统优化后，代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pymysql<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">register</span>():</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;用户注册：&quot;</span>)<br>    username = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入用户名：&quot;</span>)<br>    password = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入密码：&quot;</span>)<br><br>    conn = pymysql.connect(host=<span class="hljs-string">&quot;127.0.0.1&quot;</span>,port=<span class="hljs-number">3306</span>,user=<span class="hljs-string">&quot;root&quot;</span>,passwd=<span class="hljs-string">&quot;root123&quot;</span>,charset=<span class="hljs-string">&quot;utf8&quot;</span>,db=<span class="hljs-string">&quot;userdb&quot;</span>)<br>    cursor = conn.cursor()<br><br>    cursor.execute(<span class="hljs-string">&quot;insert into users(name,password) values(%s,%s)&quot;</span>,[username,password])<br>    conn.commit()<br><br>    cursor.close()<br>    conn.close()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;username&#125;</span>注册成功！密码是:<span class="hljs-subst">&#123;password&#125;</span>&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">login</span>():</span><br><br>    username = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入用户名：&quot;</span>)<br>    password = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入密码：&quot;</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;正在登录中...&quot;</span>)<br><br>    conn = pymysql.connect(host=<span class="hljs-string">&quot;127.0.0.1&quot;</span>,port=<span class="hljs-number">3306</span>,user=<span class="hljs-string">&quot;root&quot;</span>,passwd=<span class="hljs-string">&quot;root123&quot;</span>,charset=<span class="hljs-string">&quot;utf8&quot;</span>,db=<span class="hljs-string">&quot;userdb&quot;</span>)<br>    cursor = conn.cursor()<br><br><br>    cursor.execute(<span class="hljs-string">&quot;select * from users where name = %s and password = %s&quot;</span>,[username,password])<br>    <span class="hljs-comment">#fetchone只拿取sql语句查询到结果的第一行,返回元组类型</span><br>    <span class="hljs-comment">#没查询到：None</span><br>    <span class="hljs-comment">#查询到：（1，username，password）</span><br>    <span class="hljs-comment">#fetchall拿取sql语句查询到所有结果,返回元组类型，元组的元素是元组</span><br>    <span class="hljs-comment">#没查询到：None</span><br>    <span class="hljs-comment">#查询到：((1,username1,password1),(2,username2,password2),(3,username3,password3))</span><br>    data = cursor.fetchone()<br><br>    cursor.close()<br>    conn.close()<br><br>    <span class="hljs-keyword">if</span> data:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;data&#125;</span>登录成功！&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;登录失败！&quot;</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>():</span><br>    choice = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;注册账号输入1，登录账号输入2：&quot;</span>))<br>    <span class="hljs-keyword">if</span> choice == <span class="hljs-number">1</span>:<br>        register()<br>    <span class="hljs-keyword">elif</span> choice == <span class="hljs-number">2</span>:<br>        login()<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;输入错误！&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    run()<br></code></pre></td></tr></table></figure>

<h2 id="作业-未完成"><a href="#作业-未完成" class="headerlink" title="作业(未完成)"></a>作业(未完成)</h2><ol>
<li><p>根据要求 创建表 结构并编写相应的SQL语句（基于MySQL自带客户端操作）</p>
<table>
<thead>
<tr>
<th>列名</th>
<th>类型</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>int</td>
<td>不为空 &amp; 自增 &amp; 主键</td>
</tr>
<tr>
<td>name</td>
<td>varchar(32)</td>
<td>不为空</td>
</tr>
<tr>
<td>password</td>
<td>varchar(64)</td>
<td>不为空</td>
</tr>
<tr>
<td>gender</td>
<td>char(1)</td>
<td>不为空，支持：男、女</td>
</tr>
<tr>
<td>email</td>
<td>varchar(64)</td>
<td>可以为空</td>
</tr>
<tr>
<td>amount</td>
<td>decimal(10,2)</td>
<td>不为空 &amp; 默认值为 0</td>
</tr>
<tr>
<td>ctime</td>
<td>datetime</td>
<td>新增时的时间<br>提示：可基于datetime模块实现</td>
</tr>
</tbody></table>
<ul>
<li><p>根据上述表的要求创建相应的数据和表结构（注意编码）。</p>
</li>
<li><p>任意插入5条数据。</p>
</li>
<li><p>将 <code>id&gt;3</code>的所有人的性别改为  男。</p>
</li>
<li><p>查询余额 <code>amount&gt;1000</code>的所有用户。</p>
</li>
<li><p>让每个人的余额在自己原的基础上 +1000 。</p>
</li>
<li><p>删除性别为男的所有数据。</p>
</li>
<li><p>通过Python代码实现上述除了第一个以外的操作。</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit">插入5条数据时，ctime那一列不要自己写“2021<span class="hljs-string">-11</span><span class="hljs-string">-11</span>.。。” 而是使用datatime模块生成当前时间。<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>编写脚本实现将 csv 文件的内容录入到 MySQL 数据库中。<br>要求：自己创建一个自增列作为主键（不要用csv文件中的第一列作为主键）。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-number">1715046</span>,河北大学取消考试学生紧急离校,老师:回不了家的到老师家过年,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715046</span>-<span class="hljs-number">15562045</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715020</span>,重庆两口子因琐事吵架，男子怒将自家车推进涪江,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715020</span>-<span class="hljs-number">15561817</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715031</span>,成都九峰山因雪景引游客暴增，致垃圾遍地野猴觅食,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715031</span>-<span class="hljs-number">15561980</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715014</span>,女子子宫摘除<span class="hljs-number">32</span>年后CT报告称未见异常，医生：贴的模版忘删了,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715014</span>-<span class="hljs-number">15561686</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715025</span>,监控画面曝光！甘肃天水一公交车与救护车相撞后坠桥,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715025</span>-<span class="hljs-number">15561875</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715010</span>,男子称退伍后发现被贷款<span class="hljs-number">100</span>万：征信逾期数十次，非自己签名,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715010</span>-<span class="hljs-number">15561845</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715007</span>,东北老交警零下<span class="hljs-number">43</span>度执勤落下老寒腿:穿<span class="hljs-number">2</span>斤重棉裤,已习以为常,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715007</span>-<span class="hljs-number">15561958</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715011</span>,女教师公寓熟睡被同事弟弟连砍数刀：全身刀疤，不敢告诉父母,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715011</span>-<span class="hljs-number">15561664</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714970</span>,网曝江西一村庄现两千平违建，房主回应：建给村里当文化中心,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714970</span>-<span class="hljs-number">15561752</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715006</span>,河南一新建足球场内惊现坟墓，官方：会尽快迁坟,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715006</span>-<span class="hljs-number">15561679</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715009</span>,老师收到毕业<span class="hljs-number">24</span>年学生送的定制台历：他高考失利，我开导过,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715009</span>-<span class="hljs-number">15561658</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1715000</span>,尚德机构回应未兑现宝马奖励：名单仍在确认中，会负责到底,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1715000</span>-<span class="hljs-number">15561545</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714993</span>,沈阳重点管控区日常产<span class="hljs-number">90</span>吨生活垃圾，重点疫点垃圾由专人运走,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714993</span>-<span class="hljs-number">15561434</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714995</span>,消费者称遭移动外呼<span class="hljs-number">10088</span>套路换套餐，客服致歉：口径有问题,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714995</span>-<span class="hljs-number">1427</span>-<span class="hljs-number">174135</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714979</span>,泪流满面！武警相隔两千公里与妻子隔屏举行婚礼,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714979</span>-<span class="hljs-number">15561542</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714992</span>,村民结婚两男子拄拐上门要钱：给少了不走，反问<span class="hljs-string">&quot;咋拿得出手&quot;</span>,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714992</span>-<span class="hljs-number">15561429</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714457</span>,<span class="hljs-number">36</span>年嫌疑人：儿女被骂“杀人犯的孩子”，不想把骂名带进棺材,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714457</span>-<span class="hljs-number">1491</span>-<span class="hljs-number">170515</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714981</span>,男子偷手机被发现挣脱失主逃跑，执勤辅警狂追八百米擒获,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714981</span>-<span class="hljs-number">99</span>-<span class="hljs-number">172939</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714977</span>,八旬老太捡拾垃圾成瘾，堆满楼道院子漫进邻居家,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714977</span>-<span class="hljs-number">15561306</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714972</span>,昆明一楼盘消防喷淋离地仅<span class="hljs-number">2</span>米<span class="hljs-number">1</span>，业主吐槽：直接当喷头用,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714972</span>-<span class="hljs-number">15561247</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714973</span>,居民家浓烟弥漫邻居敲门不应，民警赶来一看是屋主在熏腊肉,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714973</span>-<span class="hljs-number">15561249</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714966</span>,石家庄有超市停业，学校紧急放假，学生：下午考试被临时取消,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714966</span>-<span class="hljs-number">15561248</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714902</span>,杭州地铁<span class="hljs-number">7</span>号线施工大揭秘：<span class="hljs-number">940</span>天完成近<span class="hljs-number">40</span>公里地铁线,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714902</span>-<span class="hljs-number">15561394</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714928</span>,沈阳已设置重点管控区域，大连志愿者挨家挨户配送生活物资,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714928</span>-<span class="hljs-number">15561018</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714950</span>,女孩考第一溺亡双胞胎姐姐不吃不喝，家属诉求：给予心理疏导,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714950</span>-<span class="hljs-number">15561100</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714924</span>,<span class="hljs-number">70</span>万<span class="hljs-number">1</span>针特效药降价，<span class="hljs-number">2</span>岁患儿母亲哽咽：会拼全力救孩子,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714924</span>-<span class="hljs-number">58</span>-<span class="hljs-number">162201</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714930</span>,贵州大叔嫁女陪嫁<span class="hljs-number">28</span>万现金和一套房：儿子结婚只花了十几万,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714930</span>-<span class="hljs-number">15561017</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714927</span>,张家口云顶滑雪场通报一滑雪者摔倒身亡：警方已介入,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714927</span>-<span class="hljs-number">15560963</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714926</span>,邢台全面进入战时状态，小区进出需要健康码,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714926</span>-<span class="hljs-number">15560829</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714918</span>,石家庄多个小区采取封闭管理：发现阳性检测者，全员核酸检测,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714918</span>-<span class="hljs-number">15560835</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714693</span>,兰大女生当兵<span class="hljs-number">2</span>年后重返校园：学会自律，珍惜在校时光,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714693</span>-<span class="hljs-number">15560791</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714920</span>,猴哥尝到投喂甜头赖老太家不走，逗鸡毁菜气到村民报警,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714920</span>-<span class="hljs-number">15560793</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714916</span>,沈阳确诊出车司机搭载的抚顺<span class="hljs-number">3</span>名乘客全部找到，核酸均为阴性,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714916</span>-<span class="hljs-number">15560758</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714894</span>,轿车被<span class="hljs-number">48</span>米建筑垃圾围堵三个月，车主无法用车叫苦不迭,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714894</span>-<span class="hljs-number">15560731</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714861</span>,考第一被质疑后溺亡女孩同学：她自尊心强，曾说被怀疑作弊,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714861</span>-<span class="hljs-number">15560701</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714886</span>,东北汉子冲进火场救人被熏成黑脸：差几秒，我就倒在里面了,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714886</span>-<span class="hljs-number">15560659</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714908</span>,探访石家庄疫情高风险地区：部分村庄封村，外村人一律不让进,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714908</span>-<span class="hljs-number">15560638</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714906</span>,“北京时间”产生于西安，科学家解读选址考量因素,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714906</span>-<span class="hljs-number">15560549</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714907</span>,<span class="hljs-number">16</span>人聚餐吃了<span class="hljs-number">800</span>元无人结账，老板询问反遭怼：多大点事儿,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714907</span>-<span class="hljs-number">15560637</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714892</span>,重庆一地铁站出口建在坡顶，居民：期待未来的变化,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714892</span>-<span class="hljs-number">15560550</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714900</span>,河北南宫一小区发现高度疑似密接人员，小区全面封闭只进不出,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714900</span>-<span class="hljs-number">15560548</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714901</span>,杭州运河边<span class="hljs-number">8</span>平米小书摊开了<span class="hljs-number">13</span>年，店主兼职拉货补贴,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714901</span>-<span class="hljs-number">15560544</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714877</span>,河南商丘鹦鹉卖家被追刑责，养殖户：不敢卖不敢放，放也犯法,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714877</span>-<span class="hljs-number">15560499</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714895</span>,石家庄小果庄村<span class="hljs-number">1</span>天增加<span class="hljs-number">8</span>例确诊病例，为全国唯一高风险地区,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714895</span>-<span class="hljs-number">15560459</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714801</span>,<span class="hljs-number">48</span>岁女教师重新高考学法律：直接进入老年生活是种损失,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714801</span>-<span class="hljs-number">15560352</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714873</span>,不认失散聋哑儿夫妻已接走儿子，养父：两验DNA，归属没说清,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714873</span>-<span class="hljs-number">15560356</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714846</span>,<span class="hljs-number">7</span>岁男童煤气中毒脑死亡，父母含泪为其捐器官救同龄人,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714846</span>-<span class="hljs-number">15560326</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714875</span>,连夜出发！衡水<span class="hljs-number">110</span>名护士紧急集结支援中风险地区,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714875</span>-<span class="hljs-number">15560268</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1713843</span>,打满全场丨院感专家李素英回忆援鄂：<span class="hljs-number">90</span>后<span class="hljs-number">00</span>后医护最让我感动,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210104/</span>cont-<span class="hljs-number">1713843</span>-<span class="hljs-number">15559433</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714869</span>,河北新增<span class="hljs-number">14</span>例确诊<span class="hljs-number">30</span>例无症状，石家庄一村庄调整为高风险地区,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714869</span>-<span class="hljs-number">15560218</span>_adpkg-ad_hd.mp4<br><span class="hljs-number">1714862</span>,应急部披露襄汾饭店坍塌致<span class="hljs-number">29</span>死细节：<span class="hljs-number">8</span>次违规扩建，监管不严,https:<span class="hljs-regexp">//</span>video.pearvideo.com<span class="hljs-regexp">/mp4/</span>adshort<span class="hljs-regexp">/20210105/</span>cont-<span class="hljs-number">1714862</span>-<span class="hljs-number">15560157</span>_adpkg-ad_hd.mp4<br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="必备SQL语句"><a href="#必备SQL语句" class="headerlink" title="必备SQL语句"></a>必备SQL语句</h2><p>前面讲解了最基础的SQL语句：增删改查，其实在日常开发中，还有很多必备的SQL语句。该部分的SQL语句都是针对 <strong>表中的数据</strong> 进行操作的。</p>
<p>Tips:往后所有的操作均在内置客户端演示，Python版本大同小异，可自行编写。</p>
<h3 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h3><p>在数据库中创建如下两张表：</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL38.png" srcset="/img/loading.gif" lazyload alt="MySQL38"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create database 915db default charset utf8 collate utf8_general_ci;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">use 915db;<br><br>create table depart(<br>    id int not null primary key auto_increment,<br>    title varchar(16) not null<br>    )default charset=utf8;<br>    <br> create table info(<br>    id int not null primary key auto_increment,<br>    name varchar(16) not null,<br>    email varchar(32) not null,<br>    age int,<br>    depart_id int<br>    )default charset=utf8;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into depart(title) values(&quot;开发&quot;),(&quot;运营&quot;),(&quot;销售&quot;);<br>+----+--------+<br>| id | title  |<br>+----+--------+<br>|  1 | 开发   |<br>|  2 | 运营   |<br>|  3 | 销售   |<br>+----+--------+<br><br>insert into info(name,email,age,depart_id) values(&quot;武沛齐&quot;,&quot;wupeiqi@live.com&quot;,19,1);<br>insert into info(name,email,age,depart_id) values(&quot;于超&quot;,&quot;pyyu@live.com&quot;,49,1);<br>insert into info(name,email,age,depart_id) values(&quot;alex&quot;,&quot;alex@live.com&quot;,9,2);<br>insert into info(name,email,age,depart_id) values(&quot;tony&quot;,&quot;tony@live.com&quot;,29,1);<br>insert into info(name,email,age,depart_id) values(&quot;kelly&quot;,&quot;kelly@live.com&quot;,99,3);<br>insert into info(name,email,age,depart_id) values(&quot;james&quot;,&quot;james@live.com&quot;,49,1);<br>insert into info(name,email,age,depart_id) values(&quot;李杰&quot;,&quot;lijie@live.com&quot;,49,1);<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where age &gt; 30;<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |<br>|  6 | james  | james@live.com |   49 |         1 |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>+----+--------+----------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where id &gt; 1;<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |<br>|  3 | alex   | alex@live.com  |    9 |         2 |<br>|  4 | tony   | tony@live.com  |   29 |         1 |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |<br>|  6 | james  | james@live.com |   49 |         1 |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>+----+--------+----------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where id = 1;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where id &gt;= 1;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where id != 1;<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |<br>|  3 | alex   | alex@live.com  |    9 |         2 |<br>|  4 | tony   | tony@live.com  |   29 |         1 |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |<br>|  6 | james  | james@live.com |   49 |         1 |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>+----+--------+----------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#查询id大于等于2且小于等于4的数据<br>mysql&gt; select * from info where id between 2 and 4;<br>+----+--------+---------------+------+-----------+<br>| id | name   | email         | age  | depart_id |<br>+----+--------+---------------+------+-----------+<br>|  2 | 于超   | pyyu@live.com |   49 |         1 |<br>|  3 | alex   | alex@live.com |    9 |         2 |<br>|  4 | tony   | tony@live.com |   29 |         1 |<br>+----+--------+---------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where name=&quot;武沛齐&quot; and age = 19;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where name = &quot;alex&quot; or age = 49;<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |<br>|  3 | alex   | alex@live.com  |    9 |         2 |<br>|  6 | james  | james@live.com |   49 |         1 |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>+----+--------+----------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#查询条件加入括号，添加优先级<br>mysql&gt; select * from info where (name = &quot;李杰&quot; or email = &quot;pyyu@live.com&quot;) and age = 49;<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>+----+--------+----------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#查询条件加入成员符号in，进行条件筛选<br>mysql&gt; select * from info where id in (1,4,6);<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#查询条件加入非成员符号not in，进行条件筛选<br>mysql&gt; select * from info where id not in (1,4,6);<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |<br>|  3 | alex   | alex@live.com  |    9 |         2 |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>+----+--------+----------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt;select * from info where id in (select id  from depart);<br>#select * from info where id in (1,2,3);<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#存在exists条件查询：当exists存在时，则执行完整的SQL语句<br>#									当exists不存在时，则结果为空（不执行完整的SQL语句）<br>mysql&gt; select * from info where exists (select * from depart where id = 5);<br>Empty set (0.01 sec)<br><br>mysql&gt; select * from info where exists (select * from depart where id = 1);<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>+----+-----------+------------------+------+-----------+<br><br>mysql&gt; select * from info where not exists (select * from depart where id = 5);<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#select * from 表;	此时表可以替换为查询结果的临时表<br>mysql&gt; select * from (select * from info where id &gt; 5) as T where age &gt; 10;<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  6 | james  | james@live.com |   49 |         1 |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>+----+--------+----------------+------+-----------+<br>其中，(select * from info where id &gt; 5) as T  即为  表。<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from depart where id = 1;<br>与<br>select * from depart where depart.id = 1;<br>的结果都是：<br>+----+--------+<br>| id | title  |<br>+----+--------+<br>|  1 | 开发   |<br>+----+--------+<br><br>#单张表格查询时，不必声明属性的表格来源<br>#当多张表格拥有共同属性名时，同时出现在SQL语句中时，需要声明属性的表格来源<br>mysql&gt; select * from info,depart where id &gt; 1;<br>ERROR 1052 (23000): Column &#x27;id&#x27; in where clause is ambiguous<br><br>select * from info,depart where info.id &gt; 1;<br>mysql&gt; select * from info,depart where info.id &gt; 1;<br>+----+--------+----------------+------+-----------+----+--------+<br>| id | name   | email          | age  | depart_id | id | title  |<br>+----+--------+----------------+------+-----------+----+--------+<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |  1 | 开发   |<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |  2 | 运营   |<br>|  2 | 于超   | pyyu@live.com  |   49 |         1 |  3 | 销售   |<br>|  3 | alex   | alex@live.com  |    9 |         2 |  1 | 开发   |<br>|  3 | alex   | alex@live.com  |    9 |         2 |  2 | 运营   |<br>|  3 | alex   | alex@live.com  |    9 |         2 |  3 | 销售   |<br>|  4 | tony   | tony@live.com  |   29 |         1 |  1 | 开发   |<br>|  4 | tony   | tony@live.com  |   29 |         1 |  2 | 运营   |<br>|  4 | tony   | tony@live.com  |   29 |         1 |  3 | 销售   |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |  1 | 开发   |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |  2 | 运营   |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |  3 | 销售   |<br>|  6 | james  | james@live.com |   49 |         1 |  1 | 开发   |<br>|  6 | james  | james@live.com |   49 |         1 |  2 | 运营   |<br>|  6 | james  | james@live.com |   49 |         1 |  3 | 销售   |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |  1 | 开发   |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |  2 | 运营   |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |  3 | 销售   |<br>+----+--------+----------------+------+-----------+----+--------+<br></code></pre></td></tr></table></figure>

<h3 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h3><p>一般用于模糊搜索，常见有两种符号：<code>%</code>和<code>_</code></p>
<ol>
<li><code>%</code>代指n个字符。其中，n&gt;=0.</li>
<li><code>_</code>代指1个字符。</li>
<li>关键词：<code>like</code></li>
<li>语法格式：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from  表名 where 属性名 like &quot;通配符语句&quot;;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where name like &quot;武沛齐%&quot;;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>+----+-----------+------------------+------+-----------+<br><br>mysql&gt; select * from info where name like &quot;%沛%&quot;;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>+----+-----------+------------------+------+-----------+<br><br>mysql&gt; select * from info where name like &quot;%沛&quot;;<br>Empty set (0.00 sec)<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where email like &quot;%@live.com&quot;;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where email like &quot;wupei%&quot;;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from info where email like &quot;_@live.com&quot;;<br>Empty set (0.00 sec)<br><br>mysql&gt; select * from info where email like &quot;__peiqi@live.com&quot;;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>+----+-----------+------------------+------+-----------+<br><br>mysql&gt; select * from info where email like &quot;__peiqi@live.c_m&quot;;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<p><strong>注：不适合大数据搜索，效率低；只适合做数据量小的搜索。</strong></p>
<h3 id="映射-指定列"><a href="#映射-指定列" class="headerlink" title="映射(指定列)"></a>映射(指定列)</h3><p>获取表格中指定的列。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from info;<br><br>select id,name						from info;<br>select id,name as NM			from info;<br>select id,name as NM, 123 from info;<br>#注：建议少写select *，多用映射获取所需列，减少查询量，增加查询速度。<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select<br>	id,<br>	name,<br>	666 as num,<br>	( select max(id) from depart ) as mid, -- max/min/sum<br>	( select min(id) from depart ) as nid,<br>	age<br>from info;<br>+----+-----------+-----+------+------+------+<br>| id | name      | num | mid  | nid  | age  |<br>+----+-----------+-----+------+------+------+<br>|  1 | 武沛齐    | 666 |    3 |    1 |   19 |<br>|  2 | 于超      | 666 |    3 |    1 |   49 |<br>|  3 | alex      | 666 |    3 |    1 |    9 |<br>|  4 | tony      | 666 |    3 |    1 |   29 |<br>|  5 | kelly     | 666 |    3 |    1 |   99 |<br>|  6 | james     | 666 |    3 |    1 |   49 |<br>|  7 | 李杰      | 666 |    3 |    1 |   49 |<br>+----+-----------+-----+------+------+------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select<br>	id,<br>	name,<br>	( select title from depart where depart.id = info.depart_id ) as x1<br>from info;<br>+----+-----------+--------+<br>| id | name      | x1     |<br>+----+-----------+--------+<br>|  1 | 武沛齐    | 开发   |<br>|  2 | 于超      | 开发   |<br>|  3 | alex      | 运营   |<br>|  4 | tony      | 开发   |<br>|  5 | kelly     | 销售   |<br>|  6 | james     | 开发   |<br>|  7 | 李杰      | 开发   |<br>+----+-----------+--------+<br>#注：效率很低，先得到select id,name from info;的结果，再根据结果关联匹配子查询。<br><br>select<br>	id,<br>	name,<br>	( select title from depart where depart.id = info.depart_id ) as x1,<br>	( select title from depart where depart.id = info.id ) as x2<br>from info;<br>+----+-----------+--------+--------+<br>| id | name      | x1     | x2     |<br>+----+-----------+--------+--------+<br>|  1 | 武沛齐    | 开发   | 开发   |<br>|  2 | 于超      | 开发   | 运营   |<br>|  3 | alex      | 运营   | 销售   |<br>|  4 | tony      | 开发   | NULL   |<br>|  5 | kelly     | 销售   | NULL   |<br>|  6 | james     | 开发   | NULL   |<br>|  7 | 李杰      | 开发   | NULL   |<br>+----+-----------+--------+--------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#查询语句中的if-elif-else<br>select<br>	指定列名1，<br>	case (指定列名) when 条件1 then 替换值1 when 条件2 then 替换值2 else 替换值3 end 列名<br>from info;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select <br>	id,<br>	name,<br>	case depart_id when 1 then &quot;第一部门&quot; end &quot;所在部门&quot;<br>from info;<br>+----+-----------+--------------+<br>| id | name      | 所在部门     |<br>+----+-----------+--------------+<br>|  1 | 武沛齐    | 第一部门     |<br>|  2 | 于超      | 第一部门     |<br>|  3 | alex      | NULL         |<br>|  4 | tony      | 第一部门     |<br>|  5 | kelly     | NULL         |<br>|  6 | james     | 第一部门     |<br>|  7 | 李杰      | 第一部门     |<br>+----+-----------+--------------+<br>注：depart_id不等于1 的默认为 NULL<br><br>select<br>	id,<br>	name,<br>	case depart_id when 1 then &quot;第一部门&quot; when 2 then &quot;第二部门&quot; else &quot;第三部门&quot; end &quot;所在部门&quot;<br>from info;<br>+----+-----------+--------------+<br>| id | name      | 所在部门     |<br>+----+-----------+--------------+<br>|  1 | 武沛齐    | 第一部门     |<br>|  2 | 于超      | 第一部门     |<br>|  3 | alex      | 第二部门     |<br>|  4 | tony      | 第一部门     |<br>|  5 | kelly     | 第三部门     |<br>|  6 | james     | 第一部门     |<br>|  7 | 李杰      | 第一部门     |<br>+----+-----------+--------------+<br><br>select<br>	id,<br>	name,<br>	case depart_id when 1 then &quot;第一部门&quot; when 2 then &quot;第二部门&quot; else &quot;第三部门&quot; end &quot;所在部门&quot;,<br>	case when age&lt;18 then &quot;少年&quot; when age&lt;35 then &quot;青年&quot; else &quot;油腻男&quot; end &quot;年龄称号&quot;<br>from info;<br>+----+-----------+--------------+--------------+<br>| id | name      | 所在部门     | 年龄称号     |<br>+----+-----------+--------------+--------------+<br>|  1 | 武沛齐    | 第一部门     | 青年         |<br>|  2 | 于超      | 第一部门     | 油腻男       |<br>|  3 | alex      | 第二部门     | 少年         |<br>|  4 | tony      | 第一部门     | 青年         |<br>|  5 | kelly     | 第三部门     | 油腻男       |<br>|  6 | james     | 第一部门     | 油腻男       |<br>|  7 | 李杰      | 第一部门     | 油腻男       |<br>+----+-----------+--------------+--------------+<br></code></pre></td></tr></table></figure>

<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#按照表中列名属性顺序排列，返回查询结果<br>select * from 表名 order by 列名属性 asc;<br><br>#按照表中列名属性逆序排列，返回查询结果<br>select * from 表名 order by 列名属性 desc;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from info order by age asc;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>+----+-----------+------------------+------+-----------+<br><br>select * from info order by age desc;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>+----+-----------+------------------+------+-----------+<br><br>select * from info order by id asc;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>+----+-----------+------------------+------+-----------+<br><br>select * from info order by id desc;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>+----+-----------+------------------+------+-----------+<br><br>#多个条件排序查询，条件按照书写前后顺序计算优先级<br>select * from info order by age asc,id desc;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>+----+-----------+------------------+------+-----------+<br>注：按照年龄从小到大排列，当年龄相同时，按照id从大到小排列<br><br>#先进行where语句查询，得到的结果再进行order by语句排序<br>select * from info where id&gt;10 order by age asc,id desc;<br>Empty set (0.00 sec)<br><br>select * from info where id&gt;6 or name like &quot;%y&quot; order by age asc,id desc;<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  4 | tony   | tony@live.com  |   29 |         1 |<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |<br>+----+--------+----------------+------+-----------+<br></code></pre></td></tr></table></figure>

<h3 id="limit取部分数据"><a href="#limit取部分数据" class="headerlink" title="limit取部分数据"></a>limit取部分数据</h3><p>一般用于获取部分数据。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from info limit 5;			-- 获取前5条数据<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>+----+-----------+------------------+------+-----------+<br><br>select * from info limit 50;		-- 获取前50条数据<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>+----+-----------+------------------+------+-----------+<br><br>select * from info order by id desc limit 3;<br>+----+--------+----------------+------+-----------+<br>| id | name   | email          | age  | depart_id |<br>+----+--------+----------------+------+-----------+<br>|  7 | 李杰   | lijie@live.com |   49 |         1 |<br>|  6 | james  | james@live.com |   49 |         1 |<br>|  5 | kelly  | kelly@live.com |   99 |         3 |<br>+----+--------+----------------+------+-----------+<br><br>#从位置2开始，向后获取前3条数据<br>select * from info limit 3 offset 2;		<br>+----+-------+----------------+------+-----------+<br>| id | name  | email          | age  | depart_id |<br>+----+-------+----------------+------+-----------+<br>|  3 | alex  | alex@live.com  |    9 |         2 |<br>|  4 | tony  | tony@live.com  |   29 |         1 |<br>|  5 | kelly | kelly@live.com |   99 |         3 |<br>+----+-------+----------------+------+-----------+<br><br>#从位置0开始，向后获取前3条数据<br>select * from info limit 3 offset 0;<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>+----+-----------+------------------+------+-----------+<br><br>#offset常用语数据库的分页处理<br>第一页：select * from info limit 10 offset 0;<br>第二页：select * from info limit 10 offset 10;<br>第三页：select * from info limit 10 offset 20;<br>...<br></code></pre></td></tr></table></figure>

<h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><p>根据指定列进行相同属性值的进行分组。</p>
<p>聚合函数：max()、min()、count()、sum()、avg()等。</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL39.png" srcset="/img/loading.gif" lazyload alt="MySQL39"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select age from info;<br>+------+<br>| age  |<br>+------+<br>|   19 |<br>|   49 |<br>|    9 |<br>|   29 |<br>|   99 |<br>|   49 |<br>|   49 |<br>+------+<br><br>select age,max(id),min(id),count(id),sum(id),avg(id) from info group by age;<br>+------+---------+---------+-----------+---------+---------+<br>| age  | max(id) | min(id) | count(id) | sum(id) | avg(id) |<br>+------+---------+---------+-----------+---------+---------+<br>|    9 |       3 |       3 |         1 |       3 |  3.0000 |<br>|   19 |       1 |       1 |         1 |       1 |  1.0000 |<br>|   29 |       4 |       4 |         1 |       4 |  4.0000 |<br>|   49 |       7 |       2 |         3 |      15 |  5.0000 |<br>|   99 |       5 |       5 |         1 |       5 |  5.0000 |<br>+------+---------+---------+-----------+---------+---------+<br>#count(id)与count(1)作用相同，根据id统计个数，因为id是主键具有唯一性。<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#统计各部门人数<br>select depart_id,count(id) from info group by depart_id;<br>+-----------+-----------+<br>| depart_id | count(id) |<br>+-----------+-----------+<br>|         1 |         5 |<br>|         2 |         1 |<br>|         3 |         1 |<br>+-----------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#统计各部门人数大于2的各部门人数<br>select depart_id,count(id) from info where count(id)&gt;2 group by depart_id;<br>ERROR 1111 (HY000): Invalid use of group function<br>#分组后对于聚合后的结果，不能用where进行条件筛选，应当用having。<br><br>select depart_id,count(id) from info group by depart_id having count(id)&gt;2;<br>+-----------+-----------+<br>| depart_id | count(id) |<br>+-----------+-----------+<br>|         1 |         5 |<br>+-----------+-----------+<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">到目前为止，SQL语句的执行顺序：<br>-- where<br>-- group<br>-- having<br>-- order by<br>-- limit<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select age,count(id) from info where id&gt;2 group by age having count(id)&gt;1 order by age desc limit 1;<br>-- 要查询的表：info<br>-- 条件 id &gt; 2<br>-- 根据age分组<br>-- 对分组后的数据再根据聚合条件过滤 count(id)&gt;1<br>-- 根据age从大到小排序<br>-- 获取第一条<br>+------+-----------+<br>| age  | count(id) |<br>+------+-----------+<br>|   49 |         2 |<br>+------+-----------+<br></code></pre></td></tr></table></figure>

<h3 id="左右连表"><a href="#左右连表" class="headerlink" title="左右连表"></a>左右连表</h3><p>将多个表左右连接起来进行查询。</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL40.png" srcset="/img/loading.gif" lazyload alt="MySQL40"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">主表 left outer join 从表 on 主表.x=从表.y;<br>#展示所有的用户信息及其部门名称<br>select * from info left outer join depart on info.depart_id=depart.id;<br></code></pre></td></tr></table></figure>

<ol>
<li><code>info</code>主表</li>
<li><code>left outer join</code>左外连接</li>
<li><code>depart</code>从表</li>
<li><code>on</code>后面加连接条件</li>
</ol>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL42.png" srcset="/img/loading.gif" lazyload alt="MySQL42"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select info.id,name,email,age,depart.title from info left outer join depart on info.depart_id=depart.id;<br>| id | name      | email            | age  | title  |<br>+----+-----------+------------------+------+--------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 | 开发   |<br>|  2 | 于超      | pyyu@live.com    |   49 | 开发   |<br>|  4 | tony      | tony@live.com    |   29 | 开发   |<br>|  6 | james     | james@live.com   |   49 | 开发   |<br>|  7 | 李杰      | lijie@live.com   |   49 | 开发   |<br>|  3 | alex      | alex@live.com    |    9 | 运营   |<br>|  5 | kelly     | kelly@live.com   |   99 | 销售   |<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#右外连接<br>从表 right outer join 主表 on 主表.x=从表.y;<br></code></pre></td></tr></table></figure>

<p>为了更加直接的查看效果，分别在depart表和info表中额外插入一条数据。</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL41.png" srcset="/img/loading.gif" lazyload alt="MySQL41"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into depart(title) values(&quot;运维&quot;);<br>+----+--------+<br>| id | title  |<br>+----+--------+<br>|  1 | 开发   |<br>|  2 | 运营   |<br>|  3 | 销售   |<br>|  4 | 运维   |<br>+----+--------+<br><br>insert into info(name,email,age,depart_id) values(&quot;铁锤&quot;,&quot;xx@qq.com&quot;,19,999);<br>+----+-----------+------------------+------+-----------+<br>| id | name      | email            | age  | depart_id |<br>+----+-----------+------------------+------+-----------+<br>|  1 | 武沛齐    | wupeiqi@live.com |   19 |         1 |<br>|  2 | 于超      | pyyu@live.com    |   49 |         1 |<br>|  3 | alex      | alex@live.com    |    9 |         2 |<br>|  4 | tony      | tony@live.com    |   29 |         1 |<br>|  5 | kelly     | kelly@live.com   |   99 |         3 |<br>|  6 | james     | james@live.com   |   49 |         1 |<br>|  7 | 李杰      | lijie@live.com   |   49 |         1 |<br>|  8 | 铁锤      | xx@qq.com        |   19 |       999 |<br>+----+-----------+------------------+------+-----------+<br></code></pre></td></tr></table></figure>

<p>注：左外连接和右外连接的补充说明：</p>
<ol>
<li><p>info为主表，就以info的数据为主，depart的数据为辅。<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL43.png" srcset="/img/loading.gif" lazyload alt="MySQL43"></p>
</li>
<li><p>depart为主表，就以depart的数据为主，info的数据为辅。<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL44.png" srcset="/img/loading.gif" lazyload alt="MySQL44"></p>
</li>
<li><p>关键字<code>outer</code>可以省略。</p>
</li>
<li><p>内连接：<code>表 inner join 表 on 条件</code>，不分主表和从表，只将公共的有联系的数据显示出来。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from info inner join depart on info.depart_id=depart.id;<br></code></pre></td></tr></table></figure>

<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL45.png" srcset="/img/loading.gif" lazyload alt="MySQL45"></p>
</li>
<li><p>到目前为止，SQL语句的执行顺序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- join<br>-- on<br>-- where<br>-- group<br>-- having<br>-- order by<br>-- limit<br></code></pre></td></tr></table></figure></li>
<li><p>当需要连接多个表时，选择一个主表后，可以多次使用连接语句进行连接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">主表 left outer join 从表1 on 条件1 left outer join 从表2 on 条件2 left outer join 从表3 on 条件3 ... ;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="联合"><a href="#联合" class="headerlink" title="联合"></a>联合</h3><p>将多张表进行上下连接，叫做联合。上下连接时只需要保证列数相同即可，类型可以不同。并且，连接的结果默认会自动去重，除非在<code>union</code>后添加<code>all</code>时会保留所有结果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select id,title from depart<br>union<br>select id,name from info;<br>+----+-----------+<br>| id | title     |<br>+----+-----------+<br>|  1 | 开发      |<br>|  2 | 运营      |<br>|  3 | 销售      |<br>|  4 | 运维      |<br>|  1 | 武沛齐    |<br>|  2 | 于超      |<br>|  3 | alex      |<br>|  4 | tony      |<br>|  5 | kelly     |<br>|  6 | james     |<br>|  7 | 李杰      |<br>|  8 | 铁锤      |<br>+----+-----------+<br><br>select id,title from depart<br>union<br>select name,eamil from info;<br>+-----------+------------------+<br>| id        | title            |<br>+-----------+------------------+<br>| 1         | 开发             |<br>| 2         | 运营             |<br>| 3         | 销售             |<br>| 4         | 运维             |<br>| 武沛齐    | wupeiqi@live.com |<br>| 于超      | pyyu@live.com    |<br>| alex      | alex@live.com    |<br>| tony      | tony@live.com    |<br>| kelly     | kelly@live.com   |<br>| james     | james@live.com   |<br>| 李杰      | lijie@live.com   |<br>| 铁锤      | xx@qq.com        |<br>+-----------+------------------+<br><br>select id from depart<br>union<br>select id from info;<br>+----+<br>| id |<br>+----+<br>|  1 |<br>|  2 |<br>|  3 |<br>|  4 |<br>|  5 |<br>|  6 |<br>|  7 |<br>|  8 |<br>+----+<br><br>select id from depart<br>union all<br>select id from info;<br>+----+<br>| id |<br>+----+<br>|  1 |<br>|  2 |<br>|  3 |<br>|  4 |<br>|  1 |<br>|  2 |<br>|  3 |<br>|  4 |<br>|  5 |<br>|  6 |<br>|  7 |<br>|  8 |<br>+----+<br></code></pre></td></tr></table></figure>

<h2 id="表关系"><a href="#表关系" class="headerlink" title="表关系"></a>表关系</h2><p>在项目开发中，需要根据业务需求创建很多表结构，以此实现业务逻辑。一般的表结构有三类：</p>
<ol>
<li><p>单表：单独一张表就能将信息保存。<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL46.png" srcset="/img/loading.gif" lazyload alt="MySQL46"></p>
</li>
<li><p>一对多：需要两张表来存储信息，且两张表存在<strong>一对多</strong>或<strong>多对一</strong>的关系。</p>
<p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL47-2127054.png" srcset="/img/loading.gif" lazyload alt="MySQL47"></p>
</li>
<li><p>多对多：需要三张表来存储信息，<strong>两张表+关系表</strong>，创造出两张单表之间的<strong>多对多</strong>关系。<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL48.png" srcset="/img/loading.gif" lazyload alt="MySQL48"></p>
</li>
</ol>
<p>在上述的表：一对多的<code>info.depart_id</code>字段，多对多的<code>boy_girl.boy_id</code>、<code>girl_id</code>字段直接用整型存储即可。因为它们只要存储关联表的主键ID即可。</p>
<p>在开发中往往还会为他们添加一个<strong>外键约束</strong>，保证某一列的值必须是其他表中的特定列已经存在的值。如：<code>info.depart_id</code>的值必须是<code>depart.id</code>中已经存在的值。</p>
<h3 id="单表关系"><a href="#单表关系" class="headerlink" title="单表关系"></a>单表关系</h3><p>这种表关系很简单，这里不再介绍。</p>
<h3 id="一对多关系"><a href="#一对多关系" class="headerlink" title="一对多关系"></a>一对多关系</h3><p>示例表：<img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL49.png" srcset="/img/loading.gif" lazyload alt="MySQL49"></p>
<ol>
<li><p>在创建表的同时，创建外键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table depart(<br>  id int not null primary key auto_increment,<br>  title varchar(16) not null<br>)default charset=utf8;<br><br>#在创建表的同时，创建外键：<br>create table info(<br>	id int not null primary key auto_crement,<br>  name varchar(16) not null,<br>  email varchar(32) not null,<br>  age int,<br>  depart_id int not null,<br>	constraint fk_info_depart foreign key (depart_id) references depart(id)		-- 创建外键<br>)default charset=utf8;<br></code></pre></td></tr></table></figure></li>
<li><p>如果表结构已经创建好，只想额外增加外键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table info add constraint fk_info_depart foreign key (depart_id) references depart(id);<br></code></pre></td></tr></table></figure></li>
<li><p>删除外键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table info drop foreign key fk_info_depart;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="多对多关系"><a href="#多对多关系" class="headerlink" title="多对多关系"></a>多对多关系</h3><p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL50.png" srcset="/img/loading.gif" lazyload alt="MySQL50"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table boy(<br>	id int not null primary key auto_increment,<br>  name vaechar(16) not null<br>)default charset=utf8;<br><br>create table boy(<br>	id int not null primary key auto_increment,<br>  name varchar(16) not null<br>)default chaeset=utf8;<br><br>create table boy_girl(<br>	id int not null primary key auto_increment,<br>  boy_id int not null,<br>  girl_id int not null,<br>  constraint fk_boy_girl_boy foreign key (boy_id) references boy(id),<br>  constraint fk_boy_girl_girl foreign key (girl_id) references girl(id)<br>)default charset=utf8;<br></code></pre></td></tr></table></figure>

<p>如果表结构已经存在，直接增加外键即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table boy_girl add constraint fk_boy_girl_boy foreign key (boy_id) references boy(id);<br>alter table boy_girl add constraint fk_boy_girl_girl foreign key (girl_id) references girl(id);<br></code></pre></td></tr></table></figure>

<p>删除外键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table boy_girl drop foreign key fk_boy_girl_boy;<br>alter table boy_girl drop foreign key fk_boy_girl_girl;<br></code></pre></td></tr></table></figure>

<p>在以后的项目开发中，设计表结构及其关系是一个非常重要的技能。一般的项目开发的步骤：</p>
<ol>
<li>需求调研与分析</li>
<li>设计数据库和数据表（根据需求）</li>
<li>项目开发（写代码）</li>
</ol>
<p>大量的工作其实都在步骤1和步骤2，前期的设计清晰准确，代码开发相对简单。</p>
<h3 id="实战案例"><a href="#实战案例" class="headerlink" title="实战案例"></a>实战案例</h3><p><img src="/2021/09/12/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL51.png" srcset="/img/loading.gif" lazyload alt="MySQL51"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create database luffy default charset utf8 collate utf8_general_ci;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table info(<br>	id int not null primary key auto_increment,<br>  username varchar(16) not null,<br>  mobile varchar(11) not null,<br>  password varchar(64) not null<br>)default charset=utf8;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert <br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table course(<br>	id int not null primary key auto_increment,<br>  title varchar(16) not null<br>)default charset=utf8;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table module(<br>	id int not null primary key auto_increment,<br>  title varchar(16) not null,<br>  course_id int not null,<br>	constraint fk_module_course foreign key (course_id) references course(id)<br>)default charset=utf8;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table day(<br>	id int not null primary key auto_increment,<br>  title varchar(16) not null,<br>  module_id int not null,<br>  constraint fk_day_module foreign key (module_id) references module(id)<br>)default charset=utf8;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into <br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table video(<br>	id int not null primary key auto_increment,<br>	title varchar(16) not null,<br>  day_id int not null,<br>  constraint fk_video_day foreign key (day_id) references day(id)<br>)default charset=utf8;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into <br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#缺少时间列date<br>create table module_record(<br>	id int not null auto_increment primary key,<br>    user_id int not null,<br>    module_id int not null,<br>    constraint fk_user_id foreign key module_record(user_id) references info(id),<br>    constraint fk_module_id foreign key module_record(module_id) references module(id)<br>)default charset=utf8;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into<br></code></pre></td></tr></table></figure>




            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/MySQL/">MySQL</a>
                    
                      <a class="hover-with-bg" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，只作学习笔记和分享交流作用，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/09/23/Python%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Python并发编程</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/05/07/%E7%88%AC%E8%99%AB/">
                        <span class="hidden-mobile">爬虫</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"cTKjlyyUHtaSnlWTUahyiu2y-gzGzoHsz","appKey":"aNtyxf95epQJYLQAkuHkbd6K","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          Fluid.plugins.initFancyBox('#valine .vcontent img:not(.vemoji)');
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->

  <div class="col-lg-7 mx-auto nopadding-x-md">
    <div class="container custom post-custom mx-auto">
      <img src="https://octodex.github.com/images/jetpacktocat.png" srcset="/img/loading.gif" lazyload class="rounded mx-auto d-block mt-5" style="width:150px; height:150px;">
    </div>
  </div>


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <i class="iconfont icon-love"></i> <a href="http://www.xiaojiucai.cn" target="_blank" rel="nofollow noopener"><span>一棵小韭菜</span></a> <i class="iconfont icon-love"></i> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
